webpackJsonp([1],{108:function(e,t,a){"use strict";var s=a(313),i=function(e){e.directive("Clipboard",s.a)};window.Vue&&(window.clipboard=s.a,Vue.use(i)),s.a.install=i,t.a=s.a},109:function(e,t,a){"use strict";function s(){console.log("copy success")}function i(){console.log("copy failed")}function r(e,t){var a=new l.a(t.target,{text:function(){return e}});a.on("success",function(){s(),a.off("error"),a.off("success"),a.destroy()}),a.on("error",function(){i(),a.off("error"),a.off("success"),a.destroy()}),a.onClick(t)}a.d(t,"a",function(){return r});var o=(a(14),a(175)),l=a.n(o)},110:function(e,t){e.exports=function(e){function t(e){var t=new Date(1e3*e),a=t.getFullYear(),s=t.getMonth()+1,i=t.getDate();return s>=1&&s<=9&&(s="0"+s),i>=0&&i<=9&&(i="0"+i),a+"-"+s+"-"+i}for(var a=new Date,s=Math.round(a/1e3),i=0,r=[],o=0;o<e;o++)i=s+86400*o,r.push(i);var l=[];return r.map(function(e){l.push(t(e))}),l}},111:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={login:function(e,t){return i()({url:"/api/signIn",method:"post",data:{loginName:e,password:t}}).then()},loginOut:function(){return i()({url:"/api/logout",method:"post",data:{}}).then()},updatePassword:function(e,t,a){return i()({url:"/api/changePassword",method:"post",data:{originPassword:e,newPassword:t,rePassword:a}}).then()}}},16:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={getRegisters:function(e,t){return i()({url:"/api/users/registers/",method:"get",params:{pageIndex:e,pageSize:t}}).then()},passRegister:function(e){return i()({url:"/api/users/review",method:"post",data:{userId:e}}).then()},getAllDelivery:function(e,t){return i()({url:"/api/users/express",method:"get",params:{pageIndex:e,pageSize:t}}).then()},getDeliveryes:function(){return i()({url:"/api/users/all/expresses",method:"get",params:{}}).then()},getDelivery:function(e){return i()({url:"/api/users/"+e,method:"get",params:{}}).then()},updateDelivery:function(e,t){return i()({url:"/api/users/"+e,method:"patch",data:{jsonPatchDocument:t}}).then()},deleteDelivery:function(e){return i()({url:"/api/users/"+e,method:"delete",data:{}}).then()},schedulingEachWeek:function(e){return i()({url:"/api/points/assign",method:"post",data:{assignModels:e}}).then()},lookEachWeek:function(){return i()({url:"/api/points/userPoints",method:"get",params:{}}).then()},searchDelivery:function(e,t,a,s){return i()({url:"/api/users/express/search",method:"post",data:{pointId:e,userId:t,pageIndex:a,pageSize:s}}).then()}}},169:function(e,t){e.exports=function(){var e=new Date,t=e.getFullYear(),a=e.getMonth()+1,s=e.getDate();return a>=1&&a<=9&&(a="0"+a),s>=0&&s<=9&&(s="0"+s),t+"-"+a+"-"+s}},170:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={callhistory:function(e,t,a,s,r,o){return i()({url:"/api/callHistories/search",method:"post",data:{businessId:e,startTime:t,endTime:a,phone:s,pageIndex:r,pageSize:o}})},listenSrc:function(e){return i()({url:"/api/medias/audios"+e,method:"get",params:{}})},eachCaller:function(e,t,a,s,r){return i()({url:"/api/orders/searchByCall",method:"post",data:{name:e,startTime:t,pageIndex:a,pageSize:s,endTime:r}})}}},171:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={addConfig:function(e,t,a,s){return i()({url:"/api/crawlerConfig",method:"post",data:{phone:e,needMatchPoint:t,userId:a,pointId:s}})},deleteConfig:function(e){return i()({url:"/api/crawlerConfig/"+e,method:"delete",data:{}})},searchConfigs:function(){return i()({url:"/api/crawlerConfig/",method:"get",params:{}})},addContrast:function(e,t){return i()({url:"/api/expressContrast/",method:"post",data:{userId:e,delivery:t}})},deleteContrast:function(e){return i()({url:"/api/expressContrast/"+e,method:"delete",data:{}})},searchContrasts:function(){return i()({url:"/api/expressContrast",method:"get",params:{}})},getContrast:function(e){return i()({url:"/api/expressContrast/"+e,method:"get",params:{}})},editContrast:function(e,t){return i()({url:"/api/expressContrast/"+e,method:"patch",data:{jsonPatchDocument:t}})}}},172:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={orderForm:function(e,t){return i()({url:"/api/reports/orders",method:"get",data:{startTime:e,endTime:t}})},callForm:function(e,t){return i()({url:"/api/reports/calls",method:"get",data:{businessId:e,date:t}})}}},24:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={getAllpoints:function(){return i()({url:"/api/points",method:"get",params:{}}).then()},addPoint:function(e,t,a,s,r,o){return i()({url:"/api/points/",method:"post",data:{name:e,district:t,lat:a,lng:s,address:r,radius:o}}).then()},getPoint:function(e){return i()({url:"/api/points/"+e,method:"get",params:{}}).then()},deletePoint:function(e){return i()({url:"/api/points/"+e,method:"delete",data:{}}).then()},updatePoint:function(e,t){return i()({url:"/api/points/"+e,method:"patch",data:{jsonPatchDocument:t}}).then()},validatePoint:function(e){return i()({url:"/api/points/validate",method:"post",data:{name:e}}).then()},exportPoints:function(e){return i()({url:"/api/points/export/business/"+e,method:"get",params:{},responseType:"blob"}).then()},chooseUsers:function(e,t){return i()({url:"/api/points/todayWork",method:"post",data:{businessId:e,visitTime:t}})}}},243:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(173),i=(a.n(s),a(162)),r=(a.n(i),a(14),a(629)),o=(a.n(r),a(12)),l=(a.n(o),a(314),a(586)),n=(a.n(l),a(18)),c=(a.n(n),a(84));a.n(c);throw new Error('Cannot find module "echarts"')},284:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a(111);t.default={name:"app"}},285:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{list:{type:Array,required:!0,default:function(){return[]}},separator:String},methods:{isLast:function(e){return e===this.list.length-1},showName:function(e){return e.meta&&e.meta.label&&(e=e.meta&&e.meta.label),e.name&&(e=e.name),e}}}},286:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(632)),r=a.n(i),o=a(688),l=(a.n(o),a(111));t.default={name:"header",data:function(){return{username:"",passwordDialog:!1,origPassword:"",password:"",rePassword:"",pwd_err:!1,isactive:!0,isonLine:!1,isMute:!1,isSchdule:!1}},components:{navbar:r.a,dropdown:o.dropdown,"el-dialog":s.Dialog},mounted:function(){var e=this;eventBus.$on("eventBusLine",function(t){e.isonLine=t}),this.username=window.localStorage.getItem("user"),-1!=window.localStorage.getItem("role").indexOf("schedule")&&(this.isSchdule=!this.isSchdule)},methods:{loginOut:function(){var e=this;l.a.loginOut().then(function(t){e.isSchdule&&e.scriptCors("http://localhost:10666?orders=signOut"),window.localStorage.removeItem("user"),window.localStorage.removeItem("role"),e.$router.push("/")})},handleCommand:function(e){"a"==e?this.passwordDialog=!0:"b"==e&&this.loginOut()},confirmUpdate:function(){var e=this;this.origPassword&&this.password&&this.rePassword?l.a.updatePassword(this.origPassword,this.password,this.rePassword).then(function(t){e.$message.success("密码修改成功!"),e.passwordDialog=!1,e.origPassword="",e.password="",e.rePassword="",e.$router.push("/")},function(t){e.$message.error(t.error.message)}):this.$message.error("请填写所有内容")},checkPwd:function(){if(this.password===this.rePassword)return void(this.pwd_err=!1);this.pwd_err=!0},sidebarToggle:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-hidden")},sidebarMinimize:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-minimized")},mobileSidebarToggle:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-mobile-show")},asideToggle:function(e){e.preventDefault(),document.body.classList.toggle("aside-menu-hidden")},restoreCall:function(){this.isMute=!this.isMute,this.scriptCors("http://localhost:10666?orders=recove","已经恢复通话啦~")},muteCall:function(){this.isMute=!this.isMute,this.isMute?this.scriptCors("http://localhost:10666?order=slient","已经静音啦~"):this.scriptCors("http://localhost:10666?orders=recove","已经恢复通话啦~")},hangUpCall:function(){this.scriptCors("http://localhost:10666?orders=hungUp","已经挂断啦~")},moveInCall:function(){this.isonLine?this.scriptCors("http://localhost:10666?orders=joinOut","已经迁出啦~"):this.scriptCors("http://localhost:10666?orders=joinIn","已经迁入啦~"),this.isonLine=!this.isonLine},scriptCors:function(e,t){var a=document.createElement("script");a.src=e,document.body.insertBefore(a,document.body.firstChild),document.body.removeChild(a),t&&this.$message.success(t)}}}},287:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"navbar",created:function(){this._navbar=!0}}},288:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"sidebar",data:function(){return{}},methods:{handleClick:function(e){e.preventDefault(),e.target.parentElement.classList.toggle("open")}}}},289:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(631),i=a.n(s),r=a(633),o=a.n(r),l=a(630),n=a.n(l);t.default={name:"full",components:{AppHeader:i.a,Sidebar:o.a,Breadcrumb:n.a},methods:{},computed:{name:function(){return this.$route.name},list:function(){return this.$route.matched}}}},290:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(112),i=a.n(s),r=a(12),o=(a.n(r),a(24)),l=a(48);a.n(l);t.default={name:"Area",data:function(){return{DialogConfig:{addDialog:{title:"新增站点"},updateDialog:{title:"修改站点"}},curDialog:"addDialog",passwordDialog:!1,lockDialog:!1,unLockDialog:!1,deleteDialog:!1,pointList:[],area:"",pointId:"",lockUserId:"",unlockUserId:"",pointDialog:!1,form:{name:"",district:"",address:"",lng:"",lat:"",radius:""},resetForm:{name:"",district:"",address:"",lng:"",lat:"",radius:""},rules:{name:[{required:!0,message:"请输入站点名称",trigger:"blur"}],district:[{required:!0,message:"请输入行政区",trigger:"blur"}]},pointPatch:{},errorShow:!1,errIcon:!0,isrepeat:!1}},components:{"el-dialog":r.Dialog},beforeRouteEnter:function(e,t,a){a(function(e){e.initPoint()})},methods:{initPoint:function(){var e=this;o.a.getAllpoints().then(function(t){e.pointList=t.data.points})},checkPoint:function(){var e=this,t=this.form.name;this.errorShow=!0,this.errIcon=!1,o.a.validatePoint(t).then(function(t){e.errIcon=!1,e.isrepeat=!1},function(t){400==t.code&&(e.errIcon=!0,e.isrepeat=!0)})},addPoint:function(){this.pointDialog=!0,this.curDialog="addDialog"},updatePoint:function(e){var t=this;this.curDialog="updateDialog",this.pointDialog=!0,this.pointId=e,o.a.getPoint(e).then(function(e){var s=e.data.point;t.form=s,t.pointPatch=a.i(l.observe)(t.form)})},bothConfirm:function(e){var t=this;"addDialog"==t.curDialog?t.$refs[e].validate(function(a){if(!a)return!1;o.a.addPoint(t[e].name,t[e].district,t[e].lat,t[e].lng,t[e].address,t[e].radius).then(function(a){t.$message.success("新增成功"),t.pointDialog=!1,t.initPoint(),t.$refs[e].resetFields()})}):t.$refs[e].validate(function(s){if(!s)return!1;o.a.updatePoint(t.pointId,a.i(l.generate)(t.pointPatch)).then(function(a){t.$message.success("更新成功"),t.pointDialog=!1,t.initPoint(),t.$refs[e].resetFields()},function(e){t.$message.error(e.error.message)})})},deletePoint:function(e){this.pointId=e,this.deleteDialog=!0},confirmdeletePoint:function(){var e=this;o.a.deletePoint(this.pointId).then(function(t){e.deleteDialog=!1,e.$message.success("站点已删除"),e.initPoint()},function(t){e.$message.error(t.msg)})},closeForm:function(){this.form=i()({},this.resetForm)},getLngLat:function(){var e=this.form.address,t=this,a=new AMap.Geocoder({radius:1e3,extensions:"all"}),s="",i="";a.getLocation(e,function(e,a){"complete"===e&&"OK"===a.info?a&&a.geocodes&&(s=a.geocodes[0].location.lng,i=a.geocodes[0].location.lat,t.form.lng=s,t.form.lat=i):"error"===e&&(t.form.lng="",t.form.lat="")})}}}},291:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(84),i=(a.n(s),a(24)),r=a(16);t.default={name:"AreaMap",data:function(){return{zoom:10,mapCenter:[121.5273285,31.21515044],plugin:[{pName:"Scale",events:{init:function(e){}}}],markers:[{id:101,position:[121.59996,31.197646],content:"易超"}],slotStyle:{position:"relative",height:"32px",width:"23px",background:"url('../../../../static/img/point.png') no-repeat","background-size":"auto 100%"},slotStyle2:{position:"absolute",left:"23px",top:0,padding:"1px","white-space":"nowrap","font-size":"12px",cursor:"inherit","background-color":"rgba(255, 255, 255)",border:"1px solid rgb(255, 0, 0)",font:"12px arial, sans-serif","z-index":99},circles:[],polygons:[]}},beforeRouteEnter:function(e,t,a){var o=this;a(function(e){i.a.getAllpoints().then(function(t){var a=t.data.points,i={},r=[];a.map(function(t){if(null!==t.lat&&null!==t.lng&&null!==t.address&&null!==t.radius){i={index:t.id,center:[t.lng,t.lat],radius:1e3*t.radius,fillOpacity:.1,title:t.name,events:null};var a=t.name;i.events={mouseover:function(){var t=e.circles.find(function(e){return e.title===a});t&&(t.fillOpacity=.4,t.zIndex=999)},mouseout:function(){e.circles=e.circles.map(function(e){return e.fillOpacity=.1,e.zIndex=10,e})}},e.circles.push(i)}else r.push(t.district)}),s.lazyAMapApiLoaderInstance.load().then(function(){e.drawDistrict(r)})}),r.a.getDeliveryes(1,100).then(function(t){var a=[],s=t.data.users;s&&s.map(function(e){e.lng&&e.lat&&a.push({id:e.id,position:[e.lng,e.lat],content:e.name})}),e.markers=a},function(e){o.$message.error(e.error.message)})})},methods:{drawDistrict:function(e){for(var t=e,a=[],s=0,i=t.length;s<i;s++)a.push(this.backPath(t[s]));this.polygons=a},backPath:function(e){var t=this,a=(new AMap.Autocomplete({citylimit:!0,city:"上海",setCityLimit:!0}),new AMap.DistrictSearch({extensions:"all",level:"district",city:"021",setCityLimit:!0})),s={title:e,strokeWeight:3,path:[],fillOpacity:.5,fillColor:"#80d8ff",strokeColor:"#ff0000",events:null};return s.events={mouseover:function(){var a=t.polygons.find(function(t){return t.title===e});a&&(a.fillOpacity=.6,a.fillColor="#ffffff",a.strokeColor="#24A8D8",a.zIndex=999)},mouseout:function(){t.polygons=t.polygons.map(function(e){return e.fillOpacity=.5,e.fillColor="#80d8ff",e.strokeColor="#ff0000",e.zIndex=10,e})}},a.search(e,function(e,t){var a=t.districtList;if(a)for(var i=0,r=a.length;i<r;i++)"021"==a[i].citycode&&(s.path=a[i].boundaries)}),s}}}},292:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(41)),r=a(48),o=(a.n(r),a(626));a.n(o);t.default={name:"business",data:function(){return{DialogConfig:{addDialog:{title:"新增业务"}},curDialog:"addDialog",businessDialog:!1,form:{name:"",type:"",description:""},rule:{name:[{required:!0,message:"请输入业务名称"}],type:[{required:!0,message:"请选择业务类型"}]},businessList:[],type:"",businessId:"",deleteDialog:!1,businessname:"",businessPatch:{},errorShow:!1,errIcon:!0,isrepeat:!1}},components:{"el-dialog":s.Dialog},beforeRouteEnter:function(e,t,a){a(function(e){e.initBusiness()})},methods:{checkName:function(){var e=this,t=this.form.name;this.errorShow=!0,this.errIcon=!1,i.a.validateBusiness(t).then(function(t){e.errIcon=!1,e.isrepeat=!1},function(t){400==t.code&&(e.errIcon=!0,e.isrepeat=!0)})},initBusiness:function(){var e=this;i.a.getAllBusiness().then(function(t){var a=t.data.businesses;e.businessList=a},function(t){e.$message.error(error.msg)})},handleBusinessDialog:function(){this.curDialog="addDialog",this.businessDialog=!0},updateBusiness:function(e){this.curDialog="updateDialog",this.businessId=e.id,this.businessDialog=!0,this.form=e,this.businessPatch=a.i(r.observe)(this.form)},handleBoth:function(e){var t=this,s=t[e].name,o=t[e].description;"addDialog"==t.curDialog?t.$refs[e].validate(function(e){if(!e)return!1;i.a.addBusiness(s,o).then(function(e){t.$message.success("新增成功"),t.businessDialog=!1,t.form[s]="",t.form[o]="",t.initBusiness()})}):i.a.updateBusiness(t.businessId,a.i(r.generate)(t.businessPatch)).then(function(e){t.$message.success("更新成功"),t.businessDialog=!1,t.initBusiness()},function(e){t.$message.error(e.error.message)})}}}},293:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(84),i=(a.n(s),a(12)),r=(a.n(i),a(42)),o=(a(16),a(24)),l=a(169),n=(a.n(l),a(160)),c=a.n(n),d=a(240),u=a.n(d),p=a(48),m=(a.n(p),a(242));a.n(m);t.default={name:"callDetail",data:function(){return{orderId:"",businessId:"",startDate:"",endDate:"",number:"",centerDialogVisible:!1,detailList:[],pointList:[],form:{},formLabelWidth:"120px",orderPatch:{},deliveryList:[],addressDialog:!1,addressForm:{city:"上海市",area:"",detailaddress:""},addressRules:{city:[{required:!0,message:"请输入城市"}],area:[{required:!0,message:"请选择区",trigger:"change"}],detailaddress:[{required:!0,message:"请填写详细地址"}]},todayPointUsers:[],zoom:11,mapCenter:[121.5273285,31.21515044],plugin:[{pName:"Scale",events:{init:function(e){}}}],slotStyle:{position:"relative",height:"32px",width:"23px",background:"url('../../../../static/img/point.png') no-repeat","background-size":"auto 100%"},slotStyle2:{position:"absolute",left:"23px",top:0,padding:"1px","white-space":"nowrap","font-size":"12px",cursor:"inherit","background-color":"rgba(255, 255, 255)",border:"1px solid rgb(255, 0, 0)",font:"12px arial, sans-serif","z-index":99},polygons:[],markers:[],circles:[],orderMarker:{position:[]},count:3,countShow:!1,businessType:"",errorInfo:!1,information:"",nextdisable:!1,orderPatchFlag:!1,orderPatchTemp:{}}},beforeRouteEnter:function(e,t,i){i(function(e){if("no"!=e.$route.query.predial){var t=document.createElement("script");t.src="http://localhost:10666?orders=joinOut",document.body.insertBefore(t,document.body.firstChild),eventBus.$emit("eventBusLine",!1),document.body.removeChild(t)}var i=e.$route.query.orderId,l=e.$route.query.businessId;e.orderId=i,e.businessId=l;r.a.getOrder(i).then(function(t){var s=t.data.order;e.form=s,e.businessType=s.business.name,e.orderPatch=a.i(p.observe)(e.form),e.form.visitTime&&e.choosePointUser()},function(t){e.$message.error(t.error.message)}),o.a.getAllpoints().then(function(t){var a=t.data.points;e.pointList=a;var i={},r=[];a.map(function(t){null!==t.lat&&null!==t.lng&&null!==t.address&&null!==t.radius?(i={index:t.id,center:[t.lng,t.lat],radius:1e3*t.radius,fillOpacity:.1},e.circles.push(i)):r.push(t.district)}),s.lazyAMapApiLoaderInstance.load().then(function(){e.form.lng&&e.form.lat&&(e.orderMarker.position=[e.form.lng,e.form.lat]),e.drawDistrict(r)})})})},methods:{drawDistrict:function(e){for(var t=e,a=[],s=0,i=t.length;s<i;s++)a.push(this.backPath(t[s]));this.polygons=a},backPath:function(e){var t=(new AMap.Autocomplete({citylimit:!0,city:"上海",setCityLimit:!0}),new AMap.DistrictSearch({extensions:"all",level:"district",city:"021",setCityLimit:!0})),a={strokeWeight:3,path:[],fillOpacity:.5,fillColor:"#80d8ff",strokeColor:"#ff0000"};return t.search(e,function(e,t){var s=t.districtList;if(s)for(var i=0,r=s.length;i<r;i++)"021"==s[i].citycode&&(a.path=s[i].boundaries)}),a},verifyAddress:function(){var e=this,t=this.form.id,a=this.businessId,s=this.form.district,i=this.form.address,o=this.form.visitTime,l=this.form.phone;if(!o)return void this.$message.info("请先选择派送日期");var n=o.substring(0,10);this.nextdisable=!1;var c=new AMap.Geocoder({city:"上海",citycode:"021",radius:1e3,extensions:"all"}),d="",u="";c.getLocation(i,function(o,c){"complete"===o&&"OK"===c.info?c&&c.geocodes&&(d=c.geocodes[0].location.lng,u=c.geocodes[0].location.lat,e.orderMarker.position=[d,u],e.form.lng=d,e.form.lat=u,e.mapCenter=[d,u],r.a.assignOrder(t,a,l,s,i,n,d,u).then(function(t){var a=t.data;e.form.pointId=a.point.id,e.form.userId=a.user.id,e.form.orderType="可派单",e.$message.success("分配站点和派送员成功~")},function(t){e.$message.error(t.error.message),e.form.orderType="指派单"})):e.$message.error("地址没找到")})},onSubmit:function(){var e=this,t=this,s=this.orderId,i=this.form,o=!1;switch(i.state){case"未分配":if("已接通"==i.lastCallState)return this.information="请选择正确的订单状态",void(this.errorInfo=!0);break;case"派送":if(i.orderTime&&i.visitTime.substring(0,10)!=i.orderTime.substring(0,10)&&!i.scheduleAnotherDayReason)return this.information="请选择未当天上门原因",void(this.errorInfo=!0);if(!i.userId||!i.pointId)return this.information="请选择派送员和站点信息",void(this.errorInfo=!0);o=!0;break;case"繁忙另约":if(!i.nextCallTime)return this.information="请填写繁忙另约的时间",void(this.errorInfo=!0);break;case"退单":if(!i.scheduleCancelReason)return this.information="请选择退单原因",void(this.errorInfo=!0)}var l=null;l=this.orderPatchFlag?this.orderPatchTemp:a.i(p.generate)(this.orderPatch),r.a.patchOrder(s,o,l).then(function(s){if(e.$message.success("订单提交成功!"),"no"==e.$route.query.predial)return void e.$router.push("/callmanage/callList");e.countShow=!0;var i=setInterval(function(){0==t.count&&(eventBus.$emit("eventBusLine",!0),t.countShow=!1,u()("http://localhost:10666?orders=joinIn",null,function(e,t){}),a.i(m.setTimeout)(function(){window.close()},3e3),clearInterval(i),t.count=3),t.count--},1e3)},function(t){e.orderPatchFlag=!0,e.orderPatchTemp=l,e.$message.error(t.error.message)})},handleChangeAddress:function(e,t){this.addressForm.area=t,this.addressForm.detailaddress=e.substring(e.indexOf("区")+1),this.addressDialog=!0},confirmAddress:function(e){var t=this,a=this;this.$refs[e].validate(function(s){if(!s)return!1;var i=t[e].city,r=t[e].area,o=t[e].detailaddress;if(o.indexOf(r)>-1||o.indexOf(i)>-1)return void t.$message.error("详细地址中请删除市和区的名称");var l=i+r+o,n=new AMap.Geocoder({radius:1e3,extensions:"all"}),c="",d="";n.getLocation(l,function(t,s){"complete"===t&&"OK"===s.info&&s&&s.geocodes&&(c=s.geocodes[0].location.lng,d=s.geocodes[0].location.lat,a.orderMarker.position=[c,d],a.addressDialog=!1,a.form.district=a[e].area,a.form.address=l,a.form.lng=c.toString(),a.form.lat=d.toString())})})},choosePointUser:function(){var e=this,t=this.$route.query.businessId,a=this.form.visitTime;if(!a)return void(this.form.scheduleAnotherDayReason="");var s=a.substring(0,10);o.a.chooseUsers(t,s).then(function(t){var a=t.data.work;e.todayPointUsers=c.a.cloneDeep(a);var s=[],i=[];a.map(function(e){i.push(e.point),e.users.map(function(e){s.push(e)})}),e.pointList=i,e.deliveryList=s,e.markers=[],s.map(function(t){e.markers.push({id:t.id,position:[t.lng,t.lat],content:t.name})})},function(t){e.pointList=[],e.form.pointId="",e.deliveryList=[],e.form.userId="",e.markers=[],e.$message.error(t.error.message)})},chooseUser:function(){var e=this,t=this.form.userId;t||(this.form.pointId="");var a=this.todayPointUsers,s=null;a.map(function(a){(s=a.users.find(function(e){return e.id==t}))&&(e.form.pointId=s.point.id)})},chooseState:function(){var e=this.form.state;switch(this.form.scheduleCancelReason="",this.form.nextCallTime="",["转物流","退单","转区域","已激活","拒访","黑名单"].indexOf(e)>-1&&(this.form.userId="",this.form.pointId="",this.form.visitTime=""),e){case"派送":this.nextdisable=!0;break;default:this.nextdisable=!1}},cancel:function(){window.close()},handleCall:function(){var e=this,t=this.form.phone;if(!/^1[0-9]{10}$/g.test(t))return void this.$message.error(err.error.message);var a=this.$route.query.orderId;r.a.checkmanualCall(t).then(function(s){s.data;e.call(t,a)},function(t){e.$message.error(t.error.message)})},call:function(e,t){var a=document.createElement("script");a.src="http://localhost:10666?orders=callOut&phone="+e+"&id="+t,document.body.insertBefore(a,document.body.firstChild),document.body.removeChild(a)}}}},294:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(42)),r=(a(16),a(24),a(41)),o=a(109),l=a(108);t.default={name:"callList",directives:{clipboard:l.a},data:function(){return{orderList:[],totalOrders:0,orderId:"",callState:"",state:"未分配",callTotal:"",pageIndex:1,pageSize:5,callDetail:{total:0,busy:0,notConnect:0,seq:0},callPhone:"",businessId:"",businessList:[],district:""}},beforeRouteEnter:function(e,t,a){a(function(e){var t={businessId:e.businessId,state:e.state,orderId:e.orderId,callState:e.callState,notConnectCount:e.callTotal,pageIndex:e.pageIndex,pageSize:e.pageSize,district:e.district};i.a.searchOrder(t).then(function(t){var a=t.data.pageInfo;e.orderList=a.entities,e.totalOrders=a.total},function(t){e.$message.error(t.error.message)}),r.a.getAllBusiness().then(function(t){var a=t.data.businesses;e.businessList=a},function(e){})})},methods:{searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageIndex,a={businessId:this.businessId,orderId:this.orderId,state:this.state,callState:this.callState,notConnectCount:this.callTotal,endTime:this.endTime,pageIndex:t,pageSize:this.pageSize,district:this.district};i.a.searchOrder(a).then(function(a){var s=a.data.pageInfo;e.totalOrders=s.total,e.orderList=s.entities,e.pageIndex=t},function(e){vm.$message.error(e.message)})},handleCall:function(e,t,a){this.$router.push({path:"/callmanage/callDetail",query:{orderId:e,businessId:a,predial:"no"}})},backRoll:function(){var e=this;i.a.rollBack().then(function(t){e.$message.success("回滚成功")},function(t){e.$message.error(t.error.message)})},prevClick:function(){var e=this;i.a.callNumber().then(function(t){e.callDetail=t.data},function(t){e.$message.error(t.error.message)})},handleCopy:function(e,t){a.i(o.a)(e,t)},clipboardSuccess:function(){this.$message.success({message:"复制成功",duration:600})},handleCallPhone:function(){var e=this.callPhone;if(!/^1[0-9]{10}$/.test(e))return void this.$message.error("请填写正确的号码");var t=document.createElement("script");t.src="http://localhost:10666?orders=callOut&phone="+e+"&id=10000000",document.body.insertBefore(t,document.body.firstChild),document.body.removeChild(t)},backRollCalled:function(){var e=this;i.a.rollBackCalled().then(function(t){e.$message.success("已接通未分配订单回滚成功")},function(t){e.$message.error(t.error.message)})}}}},295:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(170)),r=a(110),o=a.n(r),l=a(16),n=a(24);t.default={data:function(){return{orderList:[],totalOrders:0,pageIndex:1,pageSize:5,startTime:"",endTime:"",username:"",deliveryList:[],pointList:[]}},beforeRouteEnter:function(e,t,a){a(function(e){var t=window.localStorage.getItem("user");e.username=t;var a=o()(2);e.startTime=a[0],e.endTime=a[1],i.a.eachCaller(e.username,e.startTime,e.pageIndex,e.pageSize,e.endTime).then(function(t){var a=t.data.pageInfo;e.orderList=a.entities,e.totalOrders=a.total},function(t){e.$message.error(t.error.message)}),l.a.getDeliveryes().then(function(t){var a=t.data.users;a&&(e.deliveryList=a)},function(t){e.$message.error(t.error.message)}),n.a.getAllpoints().then(function(t){var a=t.data.points;a&&(e.pointList=a)},function(t){e.$message.error(t.error.message)})})},methods:{searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageIndex;i.a.eachCaller(this.username,this.startTime,t,this.pageSize,this.endTime).then(function(a){var s=a.data.pageInfo;e.orderList=s.entities,e.totalOrders=s.total,e.pageIndex=t},function(e){vm.$message.error(e.error.message)})},matchDelivery:function(e){var t="";return this.deliveryList.map(function(a){a.id==e&&(t=a.name)}),t},matchPoint:function(e){var t="";return this.pointList.map(function(a){a.id==e&&(t=a.name)}),t},exportCallExcel:function(){}}}},296:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(42));t.default={data:function(){return{pageIndex:1,pageSize:5,orderList:[]}},beforeRouteEnter:function(e,t,a){a(function(e){i.a.getDelayOrder(e.pageIndex,e.pageSize).then(function(t){var a=t.data.pageInfo;a.entities.length>0&&(e.orderList=a.entities,e.totalOrders=a.total)},function(t){e.$message.error(t.error.message)})})},methods:{searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageIndex;i.a.getDelayOrder(t,this.pageSize).then(function(a){var s=a.data.pageInfo;e.totalOrders=s.total,e.orderList=s.entities,e.pageIndex=t},function(t){e.$message.error(t.error.message)})}}}},297:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(24),i=a(16);t.default={data:function(){return{delivery:"",point:"",pointOptions:[],deliveryOptions:[],deliveryList:[],total:10,pageIndex:1,pageSize:6,deliveryId:"",deleteDialog:!1,pointId:""}},beforeRouteEnter:function(e,t,a){a(function(e){i.a.searchDelivery(e.pointId,e.userId,e.pageIndex,e.pageSize).then(function(t){var a=t.data.pageInfo;a.entities&&(e.deliveryList=a.entities,e.total=a.total)}),i.a.getDeliveryes().then(function(t){var a=t.data.users;a&&(e.deliveryOptions=a)}),s.a.getAllpoints().then(function(t){e.pointOptions=t.data.points})})},methods:{formatBusiness:function(e){var t=[];return e.map(function(e){t.push(e.business.name)}),t.join()},formatPoint:function(e){var t="";return this.pointOptions.map(function(a){a.id==e&&(t=a.name)}),t},searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageIndex;i.a.searchDelivery(this.pointId,this.deliveryId,t,this.pageSize).then(function(a){var s=a.data.pageInfo;e.deliveryList=s.entities,e.total=s.total,e.pageIndex=t})},deleteDelivery:function(e){this.deliveryId=e,this.deleteDialog=!0},confirmDeleteDelivery:function(){var e=this;i.a.deleteDelivery(this.deliveryId).then(function(t){e.$message.success("派送员删除成功~"),e.deleteDialog=!1,e.searchList(e.pageIndex)},function(t){e.$message.error(t.error.message)})},handleSearch:function(){this.searchList(1)}}}},298:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(16),i=a(24),r=a(41),o=a(48);a.n(o);t.default={data:function(){return{deliveryId:"",delivery:"",address:"",point:"",form:{name:"",address:"",point:"",userBusinesses:[]},userBusinesses:[],pointOptions:[],businessOptions:[],jsonPatch:null}},beforeRouteEnter:function(e,t,l){l(function(e){e.deliveryId=e.$route.query.Id,s.a.getDelivery(e.deliveryId).then(function(t){e.form=t.data.user,e.form.userBusinesses=t.data.user.userBusinesses.map(function(e){return{businessId:e.businessId}}),e.userBusinesses=t.data.user.userBusinesses.map(function(e){if(e)return e.businessId}),e.form.pointId&&e.form.point?e.form.pointId=t.data.user.pointId:e.form.pointId="",e.jsonPatch=a.i(o.observe)(e.form)},function(t){e.$message.error(t.error.message)}),i.a.getAllpoints().then(function(t){e.pointOptions=t.data.points},function(t){e.$message.error(t.error.message)}),r.a.getAllBusiness().then(function(t){e.businessOptions=t.data.businesses},function(t){e.$message.error(t.error.message)})})},methods:{confirmUpdate:function(){var e=this,t=this.jsonPatch,i=this.form.userBusinesses.filter(function(t){return e.userBusinesses.some(function(e){return e==t.businessId})}),r=this.userBusinesses.filter(function(t){return!e.form.userBusinesses.some(function(e){return e.businessId==t})}).map(function(e){return{businessId:e}});this.form.userBusinesses=[],i.map(function(t){e.form.userBusinesses.push(t)}),r.map(function(t){e.form.userBusinesses.push(t)});var l=a.i(o.generate)(t);s.a.updateDelivery(this.deliveryId,l).then(function(t){e.$message.success("更新成功~"),e.$router.push({path:"/deliverymanage/deliveryList"})},function(t){e.$message.error(t.error.message)})},changeAddress:function(){var e=this,t=this.form.address,a=new AMap.Geocoder({city:"上海",citycode:"021",radius:1e3,extensions:"all"}),s="",i="";a.getLocation(t,function(t,a){"complete"===t&&"OK"===a.info?a&&a.geocodes&&(s=a.geocodes[0].location.lng,i=a.geocodes[0].location.lat,e.form.lng=s,e.form.lat=i):e.$message.error("地址没找到")})}}}},299:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(317),a(110)),r=a.n(i),o=a(16),l=a(160),n=a.n(l);t.default={data:function(){return{deliveryList:[],businessId:"",scheduleList:[],userPoints:[],tempScheduleList:[],updateScheduleList:[]}},beforeRouteEnter:function(e,t,a){a(function(e){var t=e.calculateWeek(),a=r()(7);o.a.lookEachWeek().then(function(s){var i=s.data.assignModels;e.updateScheduleList=i;var r=n.a.cloneDeep(i);if(0==r.length)e.scheduleList=t,e.tempScheduleList=e.scheduleList.map(function(e){return e});else{var o=[];a.map(function(e){var t=r.find(function(t){return t.workTime==e});t?o.push(t):o.push({workTime:e,userPoints:[]})}),e.scheduleList=o;for(var l=0,c=o.length;l<c;l++)e.scheduleList[l].userPoints=o[l].userPoints.map(function(e){if(e)return e.userId})}},function(t){e.$message.error("请刷新页面重试~")}),o.a.getDeliveryes().then(function(t){var a=t.data.users;e.deliveryList=a})})},methods:{calculateWeek:function(){var e=r()(7);return e.map(function(e){return{workTime:e,userPoints:[]}})},formmatWork:function(e){var t=this.deliveryList,a={};return t.map(function(t){t.id==e&&(a.pointId=t.pointId,a.userId=t.id,a.id=null)}),a},formmatWork2:function(e,t){var a=this,s=[];return t.map(function(t){var i=e.find(function(e){return e.userId==t});i?s.push({id:i.id,userId:i.userId,pointId:i.pointId}):s.push({userId:t,pointId:a.getPointId(t)})}),s},getPointId:function(e){var t="";return this.deliveryList.map(function(a){a.id==e&&(t=a.pointId)}),t},confirmCreate:function(){var e=this,t=this.updateScheduleList,a=this.scheduleList,s=[];a.map(function(a){var i=t.find(function(e){return e.workTime==a.workTime});i&&s.push({workTime:i.workTime,userPoints:e.formmatWork2(i.userPoints,a.userPoints)})});var i=[],r={};t.length>0?this.scheduleList.map(function(t,a){var r=s.find(function(e){return e.workTime==t.workTime});r?i.push({workTime:r.workTime,userPoints:e.formmat1(r.userPoints)}):i.push({workTime:t.workTime,userPoints:e.formmat2(t.userPoints)})}):this.tempScheduleList.map(function(t){r={workTime:"",userPoints:[]},r.workTime=t.workTime,0!==t.userPoints.length&&t.userPoints.map(function(t){r.userPoints.push(e.formmatWork(t))}),i.push(r)}),o.a.schedulingEachWeek(i).then(function(t){e.$message.success("排班成功~")},function(t){e.$message.error(t.error.message)})},formmat1:function(e){var t=[];return e.map(function(e){e&&t.push({id:e.id,userId:e.userId,pointId:e.pointId})}),t},formmat2:function(e){var t=[];return n.a.cloneDeep(this.deliveryList).map(function(a){e.find(function(e){return e==a.id})&&t.push({userId:a.id,pointId:a.pointId})}),t}}}},300:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(110)),r=a.n(i),o=a(42);t.default={data:function(){return{orderList:[],totalOrders:0,pageIndex:1,pageSize:5,startTime:"",endTime:""}},beforeRouteEnter:function(e,t,a){a(function(e){var t=r()(2);e.startTime=t[0],e.endTime=t[1],o.a.searchImportSeq(e.startTime,e.endTime,e.pageIndex,e.pageSize).then(function(t){var a=t.data.pageInfo;e.orderList=a.entities,e.totalOrders=a.total},function(t){e.$message.error(t.error.message)})})},methods:{searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageIndex;o.a.searchImportSeq(this.startTime,this.endTime,t,this.pageSize).then(function(a){var s=a.data.pageInfo;e.orderList=s.entities,e.totalOrders=s.total,e.pageIndex=t},function(e){vm.$message.error(e.error.message)})}}}},301:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(42)),r=a(41);t.default={data:function(){return{centerDialogVisible:!1,fileList:[],formfile:"",businessId:"",businessList:[],filterOrder:[],tempHref:""}},beforeRouteEnter:function(e,t,a){a(function(e){r.a.getAllBusiness().then(function(t){var a=t.data.businesses;e.businessList=a},function(t){e.$message.error(t.message)})})},methods:{chooseBusiness:function(e){this.businessId=e},beforeExcelUpload:function(e){var t=this,a=e.name.substring(e.name.lastIndexOf(".")+1),s="xlsx"===a||"xls"===a;return s||this.$confirm("上传文件只能是excel格式,请移除并重新选择","提示",{confirmButtonText:"确定",callback:function(e){t.$message({type:"warning",message:"action: "+e})}}),s},handleFileChange:function(e){this.formfile="",this.beforeExcelUpload(e)&&(this.formfile=e)},handleRemove:function(e,t){this.formfile.raw="",this.$message.success("已成功移除了"+e.name+"文件")},handleLimit:function(e,t){this.$message.warning("只能上传单个excel文件！")},confirmCreate:function(){var e=this,t={},a=new FormData,s=this.filterOrder,r=!1,o=!1;s.map(function(e){"黑名单"==e?r=!0:"已呼号码"==e&&(o=!0)});var l={businessId:this.businessId,block:r,distinct:o};for(var n in l)a.append(n,l[n]);a.append("file",this.formfile.raw),this.formfile.raw&&this.businessId?(t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"}),i.a.uploadExcel(a).then(function(a){t.close(),e.$message.success("订单录入成功!"),e.$router.push("/schedulingmanage/schedulingList")},function(a){t.close(),e.$message.error("上传失败，请重试!")})):this.$message.error("请选择业务并且上传订单EXCEL文件")}}}},302:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(84),i=(a.n(s),a(12));a.n(i),a(42),a(16),a(41);throw new Error('Cannot find module "moment"')},303:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(111)),r=a(18);a.n(r);t.default={name:"Login",data:function(){return{username:"",password:"",info:"",login_err:!1}},methods:{login:function(){var e=this,t=null;this.username&&this.password?(t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)"}),this.login_err=!1,i.a.login(this.username,this.password).then(function(a){t.close(),e.$message.success("登录成功"),e.$router.push("/businessmanage/business");var s=a.data.user;if(window.localStorage.setItem("user",s.name),window.localStorage.setItem("role",s.roles),-1!=s.roles.indexOf("schedule")){var i=document.createElement("script");i.src="http://localhost:10666?orders=regist&userID="+e.username+"&userPassword="+e.password,document.body.insertBefore(i,document.body.firstChild),document.body.removeChild(i)}},function(a){t.close(),e.$message.error(a.error.message)})):(this.login_err=!0,this.info="请输入用户信息")}}}},304:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(41)),r=a(170);t.default={data:function(){return{businessList:[],businessId:"",startDate:"",endDate:"",phone:"",recordSrc:"",currentPage:1,pageSize:10,totalRecords:1,recordList:[],voiceFlag:!1,voiceSrc:"",orderId:""}},beforeRouteEnter:function(e,t,a){a(function(e){e.initBusinesses()})},methods:{initBusinesses:function(){var e=this;i.a.getAllBusiness().then(function(t){e.businessList=t.data.businesses},function(e){})},searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentPage;r.a.callhistory(this.businessId,this.startDate,this.endDate,this.phone,t,this.pageSize).then(function(a){var s=a.data.pageInfo;e.recordList=s.entities,e.totalRecords=s.total,e.currentPage=t},function(t){e.$message.error(t.error.message)})},exportCallHistories:function(){var e=document.createElement("a");e.href="/api/callHistories/export?businessId="+this.businessId+"&startTime="+this.startDate+"&endTime="+this.endDate+"&phone="+this.phone,e.click()},listen:function(e){this.voiceFlag=!0;var t=window.location.origin;t.indexOf("localhost")>-1?this.voiceSrc="http://47.99.40.137:12000/audio/"+e.recordFile:this.voiceSrc=t+"/audio/"+e.recordFile},closeVoice:function(){this.voiceFlag=!1}}}},305:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(41),i=a(172);t.default={data:function(){return{delivery:"",workState:[],businessId:"",businessList:[],selecteDate:"",deliveryList:[{date:"2018-10-29",jobNumber:"00001",name:"杨雅",callAmount:"198",connectAmount:"99",connectRate:"50%",jobHours:"20",callEffect:"23%",smallCall:"10"}]}},mounted:function(){this.initBusinesses()},methods:{initBusinesses:function(){var e=this;s.a.getAllBusiness().then(function(t){e.businessList=t.data.businesses},function(e){})},searchForm:function(){i.a.callForm(this.businessId,this.selecteDate).then(function(e){console.log(e)},function(e){})}}}},306:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(172);t.default={data:function(){return{startTime:"",endTime:"",formList:[]}},methods:{searchForm:function(){var e=this;s.a.orderForm(this.startTime,this.endTime).then(function(t){e.formList=t.data.reports},function(t){e.$message.error(t.error.message)})}}}},307:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(112),i=a.n(s),r=a(173),o=a.n(r),l=(a(24),a(16),a(316)),n=a(315),c=a(48);a.n(c);t.default={data:function(){return{delivery:"",point:"",pointOptions:[],schedulerList:[],roleList:[],total:10,pageIndex:1,pageSize:6,schedulerId:0,deleteDialog:!1,addForm:{userName:"",password:"",name:"",phone:"",address:"",userRoles:[]},userRoles:[],ruleForm:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:20,message:"长度在 2 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入用户名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"长度必须是11位",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],userRoles:[{type:"array",required:!0,message:"请分配角色",trigger:"change"}]},schedulerDialog:!1,statusMap:{update:"修改调度员",create:"新增调度员"},status:"",jsonPatch:[],namePhone:""}},watch:{userRoles:function(){this.addForm.userRoles=this.userRoles.map(function(e){return{roleId:e}})}},beforeRouteEnter:function(e,t,a){a(function(e){new o.a(function(t,a){n.a.getAllRole().then(function(a){var s=a.data.roles;e.roleList=s;var i=[];i=s.filter(function(e){return"rollback"==e.roleName?(e.roleName="回滚",e):"schedule"==e.roleName?(e.roleName="调度员",e):"scheduleManage"==e.roleName?(e.roleName="调度管理员",e):"import"==e.roleName?(e.roleName="订单导入",e):void 0}),e.roleList=i,t("ok")})}).then(function(t){l.a.searchScheduler(e.namePhone,e.pageIndex,e.pageSize).then(function(t){var a=t.data.schedules;a.entities&&(e.schedulerList=a.entities.filter(function(e){return null!==e}),e.total=a.total)})})})},methods:{searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageIndex;l.a.searchScheduler(this.namePhone,this.pageIndex,this.pageSize).then(function(a){var s=a.data.schedules;s.entities&&(e.schedulerList=s.entities.filter(function(e){return null!==e}),e.total=s.total,e.pageIndex=t)})},deleteScheduler:function(e){this.schedulerId=e,this.deleteDialog=!0},confirmDeleteDelivery:function(){var e=this;l.a.deleteScheduler(this.schedulerId).then(function(t){e.searchList(e.pageIndex),e.deleteDialog=!1,e.$message.success("调度员删除成功")},function(t){e.$message.error(t.error.message)})},formartRole:function(e){var t=void 0;return this.roleList.forEach(function(a){if(a.id==e)return void(t=a.roleName)}),t},resetTemp:function(){this.userRoles=[],this.addForm={id:void 0,userName:"",password:"",name:"",phone:"",address:"",userRoles:[]}},addScheduler:function(){var e=this;this.resetTemp(),this.status="create",this.schedulerDialog=!0,this.$nextTick(function(){e.$refs.addForm.clearValidate()})},confirmAddScheduler:function(){var e=this,t=this.addForm;this.$refs.addForm.validate(function(a){if(!a)return!1;l.a.addScheduler(t.userName,t.password,t.name,t.phone,t.address,e.userRoles).then(function(t){e.schedulerDialog=!1,e.$refs.addForm.resetFields(),e.$message.success("新增调度员成功，请联系外呼管理员分配线路"),e.searchList(1)},function(t){e.$message.error(t.error.message)})})},updateScheduler:function(e){var t=this;this.status="update",this.schedulerDialog=!0,l.a.getScheduler(e).then(function(e){var s=e.data.schedule;t.addForm=i()({},s),t.addForm.userRoles=t.addForm.userRoles.map(function(e){return{roleId:e.roleId}}),t.userRoles=t.addForm.userRoles.map(function(e){if(e.roleId)return e.roleId}),t.jsonPatch=a.i(c.observe)(t.addForm),t.$nextTick(function(){t.$refs.addForm.clearValidate()})})},confirmUpdateScheduler:function(){var e=this,t=this.addForm.id,s=[],i=this.addForm.userRoles.filter(function(t){return e.userRoles.some(function(e){return e==t.roleId})}),r=this.userRoles.filter(function(t){return!e.addForm.userRoles.some(function(e){return e.roleId==t})}).map(function(e){return{roleId:e}});this.addForm.userRoles=[],i.map(function(t){e.addForm.userRoles.push(t)}),r.map(function(t){e.addForm.userRoles.push(t)}),this.$refs.addForm.validate(function(i){if(!i)return!1;s=a.i(c.generate)(e.jsonPatch),l.a.updateScheduler(t,s).then(function(t){e.schedulerDialog=!1,e.$message.success("修改成功"),e.searchList(e.pageIndex)},function(t){e.$message.error(t.error.message)})})},handleSearch:function(){this.searchList(1)}}}},308:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(84),i=(a.n(s),a(12)),r=(a.n(i),a(42)),o=(a(16),a(24)),l=a(169),n=(a.n(l),a(160)),c=a.n(n),d=a(240),u=(a.n(d),a(109)),p=a(108),m=a(48);a.n(m);t.default={name:"schedulingDetail",directives:{clipboard:p.a},data:function(){return{orderId:"",businessId:"",startDate:"",endDate:"",number:"",centerDialogVisible:!1,detailList:[],pointList:[],form:{},formLabelWidth:"120px",orderPatch:{},deliveryList:[],addressDialog:!1,addressForm:{city:"上海市",area:"",detailaddress:""},addressRules:{city:[{required:!0,message:"请输入城市"}],area:[{required:!0,message:"请选择区",trigger:"change"}],detailaddress:[{required:!0,message:"请填写详细地址"}]},todayPointUsers:[],zoom:11,mapCenter:[121.5273285,31.21515044],plugin:[{pName:"Scale",events:{init:function(e){}}}],slotStyle:{position:"relative",height:"32px",width:"23px",background:"url('../../../../static/img/point.png') no-repeat","background-size":"auto 100%"},slotStyle2:{position:"absolute",left:"23px",top:0,padding:"1px","white-space":"nowrap","font-size":"12px",cursor:"inherit","background-color":"rgba(255, 255, 255)",border:"1px solid rgb(255, 0, 0)",font:"12px arial, sans-serif","z-index":99},polygons:[],markers:[],circles:[],orderMarker:{position:[]},businessType:"",errorInfo:!1}},beforeRouteEnter:function(e,t,i){i(function(e){var t=e.$route.query.orderId,i=e.$route.query.businessId;e.orderId=t,e.businessId=i;r.a.getOrder(t).then(function(t){var s=t.data.order;e.form=s,e.orderPatch=a.i(m.observe)(e.form),e.businessType=s.business.name,e.form.visitTime&&e.choosePointUser()},function(t){e.$message.error(t.error.message)}),o.a.getAllpoints().then(function(t){var a=t.data.points;e.pointList=a;var i={},r=[];a.map(function(t){null!==t.lat&&null!==t.lng&&null!==t.address&&null!==t.radius?(i={index:t.id,center:[t.lng,t.lat],radius:1e3*t.radius,fillOpacity:.1},e.circles.push(i)):r.push(t.district)}),s.lazyAMapApiLoaderInstance.load().then(function(){e.form.lng&&e.form.lat&&(e.orderMarker.position=[e.form.lng,e.form.lat]),e.drawDistrict(r)})})})},methods:{drawDistrict:function(e){for(var t=e,a=[],s=0,i=t.length;s<i;s++)a.push(this.backPath(t[s]));this.polygons=a},backPath:function(e){var t=(new AMap.Autocomplete({citylimit:!0,city:"上海",setCityLimit:!0}),new AMap.DistrictSearch({extensions:"all",level:"district",city:"021",setCityLimit:!0})),a={strokeWeight:3,path:[],fillOpacity:.5,fillColor:"#80d8ff",strokeColor:"#ff0000"};return t.search(e,function(e,t){var s=t.districtList;if(s)for(var i=0,r=s.length;i<r;i++)"021"==s[i].citycode&&(a.path=s[i].boundaries)}),a},verifyAddress:function(){var e=this,t=this.form.id,a=this.businessId,s=this.form.district,i=this.form.address,o=this.form.visitTime,l=this.form.phone;if(!o)return void this.$message.info("请先选择派送日期");var n=o.substring(0,10),c=new AMap.Geocoder({city:"上海",citycode:"021",radius:1e3,extensions:"all"}),d="",u="";c.getLocation(i,function(o,c){"complete"===o&&"OK"===c.info?c&&c.geocodes&&(d=c.geocodes[0].location.lng,u=c.geocodes[0].location.lat,e.orderMarker.position=[d,u],e.form.lng=d,e.form.lat=u,e.mapCenter=[d,u],r.a.assignOrder(t,a,l,s,i,n,d,u).then(function(t){var a=t.data;e.form.pointId=a.point.id,e.form.userId=a.user.id,e.form.orderType="可派单",e.$message.success("分配站点和派送员成功~")},function(t){e.$message.error(t.error.message),e.form.orderType="指派单"})):e.$message.error("地址没找到")})},onSubmit:function(){var e=this,t=this.orderId,s=this.form,i=!1;switch(s.state){case"派送":if(s.orderTime&&s.visitTime.substring(0,10)!=s.orderTime.substring(0,10)&&!s.scheduleAnotherDayReason)return this.information="请选择未当天上门原因",void(this.errorInfo=!0);if(!s.userId||!s.pointId)return this.information="请选择派送员和站点信息",void(this.errorInfo=!0);i=!0;break;case"繁忙另约":if(!s.nextCallTime)return this.information="请填写繁忙另约的时间",void(this.errorInfo=!0);break;case"退单":if(!s.scheduleCancelReason)return this.information="请选择退单原因",void(this.errorInfo=!0)}var o=a.i(m.generate)(this.orderPatch);r.a.patchOrder(t,i,o).then(function(t){e.$message.success("订单提交成功!"),e.$router.push({path:"/schedulingmanage/schedulingList"})},function(t){e.$message.error(t.error.message)})},handleChangeAddress:function(e,t){this.addressForm.area=t,this.addressForm.detailaddress=e.substring(e.indexOf("区")+1),this.addressDialog=!0},confirmAddress:function(e){var t=this,a=this;this.$refs[e].validate(function(s){if(!s)return!1;var i=t[e].city,r=t[e].area,o=t[e].detailaddress;if(o.indexOf(r)>-1||o.indexOf(i)>-1)return void t.$message.error("详细地址中请删除市和区的名称");var l=i+r+o,n=new AMap.Geocoder({radius:1e3,extensions:"all"}),c="",d="";n.getLocation(l,function(t,s){"complete"===t&&"OK"===s.info&&s&&s.geocodes&&(c=s.geocodes[0].location.lng,d=s.geocodes[0].location.lat,a.orderMarker.position=[c,d],a.addressDialog=!1,a.form.district=a[e].area,a.form.address=l,a.form.lng=c.toString(),a.form.lat=d.toString())})})},choosePointUser:function(){var e=this,t=this.$route.query.businessId,a=this.form.visitTime;if(!a)return void(this.form.scheduleAnotherDayReason="");var s=a.substring(0,10);o.a.chooseUsers(t,s).then(function(t){var a=t.data.work;e.todayPointUsers=c.a.cloneDeep(a);var s=[],i=[];a.map(function(e){i.push(e.point),e.users.map(function(e){s.push(e)})}),e.pointList=i,e.deliveryList=s,e.markers=[],s.map(function(t){e.markers.push({id:t.id,position:[t.lng,t.lat],content:t.name})})},function(t){e.pointList=[],e.form.pointId="",e.deliveryList=[],e.form.userId="",e.markers=[],e.$message.error(t.error.message)})},chooseUser:function(){var e=this,t=this.form.userId;t||(this.form.pointId="");var a=this.todayPointUsers,s=null;a.map(function(a){(s=a.users.find(function(e){return e.id==t}))&&(e.form.pointId=s.point.id)})},chooseState:function(){var e=this.form.state;switch(this.form.scheduleCancelReason="",this.form.nextCallTime="",["转物流","退单","转区域","已激活","拒访","黑名单"].indexOf(e)>-1&&(this.form.userId="",this.form.pointId="",this.form.visitTime=""),e){case"派送":this.nextdisable=!0;break;default:this.nextdisable=!1}},handleCopy:function(e,t){a.i(u.a)(e,t)},clipboardSuccess:function(){this.$message.success({message:"复制成功",duration:600})},handleCall:function(){var e=this,t=this.form.phone;if(!/^1[0-9]{10}$/g.test(t))return void this.$message.error(err.error.message);var a=this.$route.query.orderId;r.a.checkmanualCall(t).then(function(s){s.data;e.call(t,a)},function(t){e.$message.error(t.error.message)})},call:function(e,t){var a=document.createElement("script");a.src="http://localhost:10666?orders=callOut&phone="+e+"&id="+t,document.body.insertBefore(a,document.body.firstChild),document.body.removeChild(a)}}}},309:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(318),i=a.n(s),r=a(12),o=(a.n(r),a(42)),l=a(16),n=a(41),c=a(24),d=a(109),u=a(108);t.default={name:"schedulingList",directives:{clipboard:u.a},data:function(){return{orderList:[],totalOrders:0,deliveryList:[],pointList:[],orderId:"",phone:"",userId:"",state:"",callState:"",startCallTime:"",endCallTime:"",pointId:"",district:"",visitTime:"",importSequenceId:"",importSequenceStartTime:"",importSequenceEndTime:"",pageIndex:1,pageSize:5,centerDialogVisible:!1,callDialogVisible2:!1,deliveryForm:{sourceUserId:"",targetUserId:""},recycleDialog:!1,recycleOrderId:"",recycleOrder:"",callTotal:"",historyShow:!1,historyOrderId:"",historyList:[],historyLoading:!0,checkedList:[],callDialogVisible3:!1,deliveryForm3:{targetUserId:""},businessId:"",businessList:[],getRowKeys:function(e){return e.id},sssId:[]}},beforeRouteEnter:function(e,t,a){a(function(e){var t={businessId:e.businessId,orderId:e.orderId,phone:e.phone,userId:e.userId,pointId:e.pointId,state:e.state,callState:e.callState,startCallTime:e.startCallTime,endCallTime:e.endCallTime,notConnectCount:e.callTotal,pageIndex:e.pageIndex,pageSize:e.pageSize,importSequenceId:e.importSequenceId,importSequenceStartTime:e.importSequenceStartTime,importSequenceEndTime:e.importSequenceEndTime,district:e.district,visitTime:e.visitTime};o.a.searchOrder(t).then(function(t){var a=t.data.pageInfo;e.orderList=a.entities,e.totalOrders=a.total},function(t){e.$message.error(t.error.message)}),l.a.getDeliveryes().then(function(t){var a=t.data.users;a&&(e.deliveryList=a)},function(t){e.$message.error(t.error.message)}),c.a.getAllpoints().then(function(t){var a=t.data.points;a&&(e.pointList=a)},function(t){e.$message.error(t.error.message)}),n.a.getAllBusiness().then(function(t){var a=t.data.businesses;e.businessList=a},function(e){})})},methods:{searchList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pageIndex,a={businessId:this.businessId,orderId:this.orderId,phone:this.phone,userId:this.userId,pointId:this.pointId,state:this.state,callState:this.callState,startCallTime:this.startCallTime,endCallTime:this.endCallTime,notConnectCount:this.callTotal,pageIndex:t,pageSize:this.pageSize,importSequenceId:this.importSequenceId,importSequenceStartTime:this.importSequenceStartTime,importSequenceEndTime:this.importSequenceEndTime,district:this.district,visitTime:this.visitTime};o.a.searchOrder(a).then(function(a){var s=a.data.pageInfo;e.totalOrders=s.total,e.orderList=s.entities,e.pageIndex=t},function(e){vm.$message.error(e.message)})},handleClick:function(e,t){this.$router.push({path:"/schedulingmanage/schedulingDetail",query:{orderId:e,businessId:t}})},changeDelivery:function(){this.callDialogVisible2=!0},confirmChangeDelivery:function(){var e=this,t=this.deliveryForm,a=t.sourceUserId,s=t.targetUserId;a&&s?o.a.changeDelivery(a,s).then(function(t){e.$message.success("改派成功~"),e.deliveryForm.sourceUserId="",e.deliveryForm.targetUserId="",e.callDialogVisible2=!1,e.searchList()},function(t){e.$message.error(t.error.message)}):this.$message.error("请选择派送人员和目标人员")},handleRecycle:function(e,t){this.recycleOrderId=e,this.recycleOrder=t,this.recycleDialog=!0},confirmRecycle:function(){var e=this,t=this.recycleOrderId;o.a.recycleSingleOrder(t).then(function(t){e.recycleDialog=!1,e.$message.success("回收成功"),e.searchList(e.pageIndex)},function(t){e.$message.error(t.error.message)})},exportOrder:function(){var e={orderId:this.orderId,phone:this.phone,userId:this.userId,pointId:this.pointId,state:this.state,callState:this.callState,startCallTime:this.startCallTime,endCallTime:this.endCallTime,importSequenceId:this.importSequenceId,notConnectCount:this.callTotal,importSequenceStartTime:this.importSequenceStartTime,importSequenceEndTime:this.importSequenceEndTime,district:this.district,visitTime:this.visitTime},t="/api/orders/export?"+i()(e).map(function(e){return e.join("=")}).join("&");this.download(t)},download:function(e){var t=document.createElement("a");t.href=e,t.click()},handleCopy:function(e,t){a.i(d.a)(e,t)},clipboardSuccess:function(){this.$message.success({message:"复制成功",duration:600})},handleRecords:function(e,t){var a=this;this.historyShow=!0;var s=[];o.a.orderHistory(e).then(function(e){var i=e.data.histories;s=i.filter(function(e){return e.changes.length>0}),a.historyLoading=!1,a.historyList=s,a.historyOrderId=t},function(e){a.$message.error(e.error.message)})},hideHistory:function(){this.historyShow=!1,this.historyList=[],this.historyLoading=!0},stopClose:function(){},turnChi:function(e){return e.indexOf("schedule")>-1&&(e=e.replace("schedule","调度员")),e.indexOf(!1)&&(e=e.replace("express","派送员")),e.indexOf("admin")>-1&&(e=e.replace("admin","管理员")),e},batchChangeDelivery:function(){if(0==this.checkedList.length)return void this.$message.error("请先选择需要改派的订单");this.callDialogVisible3=!0},confirmChangeDelivery3:function(){var e=this,t=this.deliveryForm3.targetUserId;if(""==t)return void this.$message.error("请选择改派的目标派送员");var a=[];this.checkedList.forEach(function(e){a.push(parseInt(e.id))}),o.a.batchChange(a,t).then(function(t){e.$message.success("全部改派成功"),e.callDialogVisible3=!1,e.checkedList=[],e.$nextTick(function(){e.$refs.multipleTable.clearSelection()}),e.searchList()},function(t){e.$message.error(t.error.message)})},handleClose:function(e){var t=this,a=this.checkedList.find(function(t){return t.orderId==e.orderId});a&&this.$nextTick(function(){t.$refs.multipleTable.toggleRowSelection(a,!1)})},checkSelectable:function(e,t){return"派送"==e.state||"改约"==e.state},handleSelectionChange:function(e){var t=this;this.checkedList=[],e&&e.forEach(function(e){e&&t.checkedList.push(e)})}}}},310:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(16)),r=(a(24),a(171)),o=a(48);a.n(o);t.default={name:"ContrastConfig",data:function(){return{deleteDialog:!1,pointList:[],deliveryList:[],lastDeliveryList:[],deleteContrastId:"",tableData:[],addDialog:!1,editDialog:!1,form:{},editform:{},editId:"",flag:!1,formPatch:{}}},components:{"el-dialog":s.Dialog},watch:{flag:function(){this.initContrasts()}},beforeRouteEnter:function(e,t,a){a(function(e){i.a.getDeliveryes().then(function(t){var a=t.data;a.users&&(e.deliveryList=a.users),e.flag=!e.flag})})},methods:{initContrasts:function(){var e=this;r.a.searchContrasts().then(function(t){var a=t.data.expressContrasts;e.tableData=a;var s=e.deliveryList,i=[];s.length>0&&(s.map(function(e){var t=a.find(function(t){return t.userId==e.id});e.disabled=!!t,i.push(e)}),console.log(i),e.lastDeliveryList=i)})},formataUser:function(e){var t="";return this.deliveryList.map(function(a){a.id===e&&(t=a.name)}),t},add:function(){this.addDialog=!0},addConfig:function(){var e=this,t=this.form;t.userId&&t.delivery&&r.a.addContrast(t.userId,t.delivery).then(function(t){e.$message.success("派送员关联成功"),e.addDialog=!1,e.form.userId="",e.form.delivery="",e.initContrasts()},function(t){e.$message.error(t.error.message)})},deleteContrast:function(e){this.deleteContrastId=e,this.deleteDialog=!0},confirmDeleteConfig:function(){var e=this;r.a.deleteContrast(this.deleteContrastId).then(function(t){e.initContrasts(),e.deleteDialog=!1,e.$message.success("派送员关联已删除")},function(t){e.$message.error(t.msg)})},editContrast:function(e){var t=this;this.editId=e,r.a.getContrast(e).then(function(e){var s=e.data.expressContrast;t.editform=s,t.editDialog=!0,t.formPatch=a.i(o.observe)(t.editform)},function(e){t.$message.error(e.error.message)})},confirmEdit:function(){var e=this,t=this.editId,s=a.i(o.generate)(this.formPatch);this.editform.userId&&this.editform.delivery&&r.a.editContrast(t,s).then(function(t){e.initContrasts(),e.$message.success("修改成功"),e.editDialog=!1},function(t){e.$message.error(t.error.message)})}}}},311:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(16));t.default={name:"delivery",data:function(){return{passDialog:!1,deleteDialog:!1,deliveryList:[],username:"",deleteId:"",passedId:"",pageIndex:1,pageSize:100}},components:{"el-dialog":s.Dialog},beforeRouteEnter:function(e,t,a){a(function(e){e.initDelivery()})},methods:{initDelivery:function(){var e=this;i.a.getRegisters(this.pageIndex,this.pageSize).then(function(t){e.deliveryList=t.data.pageInfo.entities},function(t){e.$message.error(t.error.message)})},passed:function(e){this.passDialog=!0,this.passedId=e},confirmPassed:function(){var e=this,t=this.passedId;i.a.passRegister(t).then(function(t){e.$message.success("审核通过~"),e.initDelivery(),e.passDialog=!1},function(t){e.$message.error(t.error.message)})},deleteDelivery:function(e){this.deleteId=e,this.deleteDialog=!0},confirmDeleteUser:function(){var e=this;i.a.deleteDelivery(this.deleteId).then(function(t){e.deleteDialog=!1,e.$message.success("用户已删除"),e.initDelivery()},function(t){e.$message.error(t.msg)})},searchDelivery:function(){this.$message.success("开发中~~~")}}}},312:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(12),i=(a.n(s),a(16)),r=a(24),o=a(171);t.default={name:"PilotConfig",data:function(){return{deleteDialog:!1,userList:[],pointList:[],deleteConfigId:"",tableData:[],addDialog:!1,form:{matchPoint:!1},ruleForm:{phone:[{required:!0,message:"请输入正确手机号码",trigger:"change"},{min:11,max:11,message:"长度必须是11位",trigger:"change"}]},confirmFlag:!1}},components:{"el-dialog":s.Dialog},beforeRouteEnter:function(e,t,a){a(function(e){i.a.getAllDelivery(1,100).then(function(t){var a=t.data.pageInfo;a.entities&&(e.userList=a.entities)},function(t){e.$message.error(t.error.message)}),r.a.getAllpoints().then(function(t){var a=t.data.points;a&&(e.pointList=a)},function(t){e.$message.error(t.error.message)}),e.initConfigs()})},methods:{initConfigs:function(){var e=this;o.a.searchConfigs().then(function(t){var a=t.data.crawlerConfigs;e.tableData=a})},formataUser:function(e){var t="";return this.userList.map(function(a){a.id===e&&(t=a.name)}),t},formataPoint:function(e){var t="";if(e)return this.pointList.map(function(a){a.id===e&&(t=a.name)}),t},addPoint:function(){this.addDialog=!0},addConfig:function(){var e=this,t=this.form,a=null,s=null,i=null;t.userId&&(a=this.userList.filter(function(e){return e.id===t.userId}),i=a[0].pointId,s=t.userId),this.$refs.form.validate(function(a){if(!a)return!1;o.a.addConfig(t.phone,t.matchPoint,s,i).then(function(t){e.addDialog=!1,e.initConfigs(),e.form.phone="",e.form.userId="",e.$message.success("试点配置成功")},function(t){e.$message.error(t.error.message)})})},deleteConfig:function(e){this.deleteConfigId=e,this.deleteDialog=!0},confirmDeleteConfig:function(){var e=this;o.a.deleteConfig(this.deleteConfigId).then(function(t){e.initConfigs(),e.deleteDialog=!1,e.$message.success("试点配置已删除")},function(t){e.$message.error(t.msg)})},formataMatch:function(e){return 0==e?"否":"是"}}}},313:function(e,t,a){"use strict";var s=a(175);if(!s)throw new Error("you should npm install `clipboard` --save at first ");t.a={bind:function(e,t){if("success"===t.arg)e._v_clipboard_success=t.value;else if("error"===t.arg)e._v_clipboard_error=t.value;else{var a=new s(e,{text:function(){return t.value},action:function(){return"cut"===t.arg?"cut":"copy"}});a.on("success",function(t){var a=e._v_clipboard_success;a&&a(t)}),a.on("error",function(t){var a=e._v_clipboard_error;a&&a(t)}),e._v_clipboard=a}},update:function(e,t){"success"===t.arg?e._v_clipboard_success=t.value:"error"===t.arg?e._v_clipboard_error=t.value:(e._v_clipboard.text=function(){return t.value},e._v_clipboard.action=function(){return"cut"===t.arg?"cut":"copy"})},unbind:function(e,t){"success"===t.arg?delete e._v_clipboard_success:"error"===t.arg?delete e._v_clipboard_error:(e._v_clipboard.destroy(),delete e._v_clipboard)}}},314:function(e,t,a){"use strict";var s=a(14),i=a(687),r=a(634),o=a.n(r),l=a(656),n=a.n(l),c=a(657),d=a.n(c),u=a(655),p=a.n(u),m=a(646),v=a.n(m),f=a(645),h=a.n(f),_=a(647),b=a.n(_),g=a(654),y=a.n(g),C=a(653),k=a.n(C),x=a(639),w=a.n(x),I=a(638),S=a.n(I),D=a(640),$=a.n(D),L=a(635),T=a.n(L),P=a(636),O=a.n(P),F=a(642),R=a.n(F),z=a(643),M=a.n(z),E=a(644),A=a.n(E),q=a(641),B=a.n(q),N=a(652),U=a.n(N),j=a(637),H=a.n(j),V=a(651),W=a.n(V),K=a(650),G=a.n(K),Y=a(649),J=a.n(Y),X=a(648),Q=a.n(X);s.default.use(i.a),t.a=new i.a({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/pages/login",name:"主页",component:o.a,children:[{path:"system",redirect:"/system/user",name:"系统管理",component:{render:function(e){return e("router-view")}},children:[{path:"delivery",name:"派送员审核",component:n.a},{path:"pilot",name:"试点配置",component:d.a},{path:"contrast",name:"关联工号",component:p.a}]},{path:"ordermanage",redirect:"/ordermanage/orderEntry",name:"订单管理",component:{render:function(e){return e("router-view")}},children:[{path:"orderEntry",name:"订单录入",component:v.a},{path:"entryList",name:"录入明细",component:h.a},{path:"successOrderEntry",name:"成功单录入",component:b.a}]},{path:"schedulingmanage",redirect:"/schedulingmanage/schedulingList",name:"调度管理",component:{render:function(e){return e("router-view")}},children:[{path:"schedulingList",name:"调度列表",component:y.a,meta:{keepAlive:!0}},{path:"schedulingDetail",name:"调度详情",component:k.a}]},{path:"callmanage",redirect:"/callmanage/callList",name:"外呼管理",component:{render:function(e){return e("router-view")}},children:[{path:"callList",name:"外呼列表",component:w.a,meta:{keepAlive:!0}},{path:"callStatistics",name:"外呼统计",component:$.a},{path:"callDetail",name:"外呼详情",component:S.a}]},{path:"deliverymanage",redirect:"/deliverymanage/deliveryList",name:"派送员管理",component:{render:function(e){return e("router-view")}},children:[{path:"deliveryList",name:"派送员列表",component:R.a,meta:{keepAlive:!0}},{path:"updateDelivery",name:"修改派送员",component:M.a},{path:"schedule",name:"排班",component:A.a},{path:"delayOrder",name:"超时单",component:B.a,meta:{keepAlive:!0}}]},{path:"schedulermanage",redirect:"/schedulermanage/schedulerList",name:"调度员管理",component:{render:function(e){return e("router-view")}},children:[{path:"schedulerList",name:"调度员列表",component:U.a,meta:{keepAlive:!0}}]},{path:"reportform",redirect:"/reportform/orderform",name:"报表管理",component:{render:function(e){return e("router-view")}},children:[{path:"orderform",name:"订单报表",component:W.a},{path:"callform",name:"外呼报表",component:G.a}]},{path:"recordmanage",redirect:"/recordmanage/record",name:"录音管理",component:{render:function(e){return e("router-view")}},children:[{path:"record",name:"录音记录",component:J.a}]},{path:"areamanage",redirect:"/areamanage/areaList",name:"站点管理",component:{render:function(e){return e("router-view")}},children:[{path:"area",name:"站点列表",component:T.a},{path:"areamap",name:"站点地图",component:O.a}]},{path:"businessmanage",redirect:"/businessmanage/business",name:"业务管理",component:{render:function(e){return e("router-view")}},children:[{path:"business",name:"业务列表",component:H.a}]}]},{path:"/pages",name:"Pages",component:{render:function(e){return e("router-view")}},children:[{path:"login",name:"Login",component:Q.a}]}]})},315:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={getAllRole:function(){return i()({url:"/api/roles/",method:"get",params:{}}).then()}}},316:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={getAllScheduler:function(e,t){return i()({url:"/api/schedules/",method:"get",params:{pageIndex:e,pageSize:t}}).then()},addScheduler:function(e,t,a,s,r,o){return i()({url:"/api/schedules/",method:"post",data:{userName:e,password:t,name:a,phone:s,address:r,roleIds:o}}).then()},getScheduler:function(e){return i()({url:"/api/schedules/"+e,method:"get",params:{}}).then()},updateScheduler:function(e,t){return i()({url:"/api/schedules/"+e,method:"patch",data:{jsonPatchDocument:t}})},deleteScheduler:function(e){return i()({url:"/api/schedules/"+e,method:"delete",data:{}})},searchScheduler:function(e,t,a){return i()({url:"/api/schedules/search",method:"post",data:{nameOrPhone:e,pageIndex:t,pageSize:a}})}}},317:function(e,t,a){"use strict";var s=a(18);a.n(s)},41:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={addBusiness:function(e,t){return i()({url:"/api/businesses",method:"post",data:{name:e,description:t}}).then()},getAllBusiness:function(){return i()({url:"/api/businesses",method:"get",params:{}}).then()},validateBusiness:function(e){return i()({url:"/api/businesses/validate",method:"post",data:{name:e}})},deleteBusiness:function(e){return i()({url:"/api/businesses/"+e,method:"delete",data:{}}).then()},getBusiness:function(e){return i()({url:"/api/businesses/"+e,method:"get",params:{}}).then()},updateBusiness:function(e,t){return i()({url:"/api/businesses/"+e,method:"patch",data:{jsonPatchDocument:t}}).then()}}},42:function(e,t,a){"use strict";var s=a(18),i=a.n(s);t.a={uploadExcel:function(e){return i()({url:"/api/orders/upload/",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}}).then()},createOrder:function(e,t,a,s,r,o,l,n,c,d,u,p,m,v,f,h,_,b,g,y,C,k,x,w,I,S,D){return i()({url:"/api/orders",method:"post",data:{orderId:e,planName:t,orderPhone:a,consignee:s,orderTime:r,orderType:o,address:l,lat:n,lng:c,district:d,scheduleRemark:u,expressRemark:p,state:m,userId:v,pointId:f,businessId:h,block:_,phone:b,visitTime:g,assignTime:y,acceptTime:C,completeTime:k,scheduleCancelReason:x,expressCancelReason:w,scheduleAnotherDayReason:I,expressAnotherDayReason:S,secondaryCard:D}}).then()},searchImportSeq:function(e,t,a,s){return i()({url:"/api/importSeq",method:"post",data:{startTime:e,endTime:t,pageIndex:a,pageSize:s}}).then()},getScheduleOrders:function(e,t){return i()({url:"/api/orders",method:"get",params:{type:"调度业务",pageIndex:e,pageSize:t}}).then()},getMarketOrders:function(e,t){return i()({url:"/api/orders",method:"get",params:{type:"营销业务",pageIndex:e,pageSize:t}}).then()},searchOrder:function(e){return i()({url:"/api/orders/search",method:"post",data:e}).then()},getOrder:function(e){return i()({url:"/api/orders/"+e,method:"get",params:{}}).then()},assignOrder:function(e,t,a,s,r,o,l,n){return i()({url:"/api/orders/assign",method:"post",data:{id:e,businessId:t,phone:a,district:s,address:r,visitTime:o,lng:l,lat:n}})},patchOrder:function(e,t,a){return i()({url:"/api/orders/"+e,method:"patch",data:{assign:t,jsonPatchDocument:a}}).then()},changeDelivery:function(e,t){return i()({url:"/api/orders/changeExpress",method:"post",data:{sourceUserId:e,targetUserId:t}}).then()},batchChange:function(e,t){return i()({url:"/api/orders/batchChangeExpress",method:"post",data:{orderIds:e,targetUserId:t}}).then()},recycleSingleOrder:function(e){return i()({url:"/api/orders/recover/",method:"post",data:{orderId:e}}).then()},deleteOrder:function(e){return i()({url:"/api/orders/"+e,method:"delete",data:{}}).then()},exportExcel:function(e,t,a,s,r,o,l,n,c){return i()({url:"/api/orders/export",method:"get",params:{orderId:e,phone:t,userId:a,pointId:s,state:r,callState:o,startTime:l,endTime:n,notConnectCount:c}}).then()},getDelayOrder:function(e,t){return i()({url:"/api/orders/delay",method:"get",params:{pageIndex:e,pageSize:t}})},rollBack:function(){return i()({url:"/api/orders/rollback",method:"get",params:{}})},rollBackCalled:function(){return i()({url:"/api/orders/connectedRollback",method:"get",params:{}})},callNumber:function(){return i()({url:"/api/orders/callStatus",method:"get",params:{}})},orderHistory:function(e){return i()({url:"/api/orderHistory/"+e,method:"get",params:{}})},checkmanualCall:function(e){return i()({url:"/api/orders/manualCallCheck",method:"post",data:{phone:e}})}}},586:function(e,t){},587:function(e,t){},588:function(e,t){},589:function(e,t){},590:function(e,t){},591:function(e,t){},592:function(e,t){},593:function(e,t){},594:function(e,t){},595:function(e,t){},596:function(e,t){},597:function(e,t){},598:function(e,t){},599:function(e,t){},600:function(e,t){},601:function(e,t){},602:function(e,t){},603:function(e,t){},604:function(e,t){},605:function(e,t){},606:function(e,t){},607:function(e,t){},608:function(e,t){},609:function(e,t){},610:function(e,t){},611:function(e,t){},612:function(e,t){},613:function(e,t){},629:function(e,t,a){function s(e){a(596)}var i=a(5)(a(284),a(668),s,null,null);e.exports=i.exports},630:function(e,t,a){var s=a(5)(a(285),a(682),null,null,null);e.exports=s.exports},631:function(e,t,a){function s(e){a(601)}var i=a(5)(a(286),a(673),s,null,null);e.exports=i.exports},632:function(e,t,a){var s=a(5)(a(287),a(662),null,null,null);e.exports=s.exports},633:function(e,t,a){function s(e){a(589)}var i=a(5)(a(288),a(659),s,null,null);e.exports=i.exports},634:function(e,t,a){var s=a(5)(a(289),a(666),null,null,null);e.exports=s.exports},635:function(e,t,a){function s(e){a(600)}var i=a(5)(a(290),a(672),s,"data-v-6c9aba45",null);e.exports=i.exports},636:function(e,t,a){function s(e){a(591)}var i=a(5)(a(291),a(661),s,"data-v-238d87e5",null);e.exports=i.exports},637:function(e,t,a){function s(e){a(598)}var i=a(5)(a(292),a(670),s,"data-v-609823d8",null);e.exports=i.exports},638:function(e,t,a){function s(e){a(593)}var i=a(5)(a(293),a(664),s,"data-v-351d1754",null);e.exports=i.exports},639:function(e,t,a){function s(e){a(603)}var i=a(5)(a(294),a(675),s,"data-v-88ed1b14",null);e.exports=i.exports},640:function(e,t,a){function s(e){a(608)}var i=a(5)(a(295),a(680),s,"data-v-b29c0f0a",null);e.exports=i.exports},641:function(e,t,a){function s(e){a(594)}var i=a(5)(a(296),a(665),s,"data-v-45657aec",null);e.exports=i.exports},642:function(e,t,a){function s(e){a(606)}var i=a(5)(a(297),a(678),s,"data-v-ae90e268",null);e.exports=i.exports},643:function(e,t,a){function s(e){a(597)}var i=a(5)(a(298),a(669),s,"data-v-568421f7",null);e.exports=i.exports},644:function(e,t,a){function s(e){a(607)}var i=a(5)(a(299),a(679),s,"data-v-af78a5ae",null);e.exports=i.exports},645:function(e,t,a){function s(e){a(602)}var i=a(5)(a(300),a(674),s,"data-v-79067ad4",null);e.exports=i.exports},646:function(e,t,a){function s(e){a(605)}var i=a(5)(a(301),a(677),s,"data-v-aa6e3060",null);e.exports=i.exports},647:function(e,t,a){function s(e){a(588)}var i=a(5)(a(302),a(658),s,"data-v-01df456a",null);e.exports=i.exports},648:function(e,t,a){function s(e){a(612)}var i=a(5)(a(303),a(685),s,"data-v-e809f5ca",null);e.exports=i.exports},649:function(e,t,a){function s(e){a(604)}var i=a(5)(a(304),a(676),s,"data-v-8f2f496e",null);e.exports=i.exports},650:function(e,t,a){function s(e){a(611)}var i=a(5)(a(305),a(684),s,"data-v-e20b736a",null);e.exports=i.exports},651:function(e,t,a){function s(e){a(599)}var i=a(5)(a(306),a(671),s,"data-v-65e6d21e",null);e.exports=i.exports},652:function(e,t,a){function s(e){a(610)}var i=a(5)(a(307),a(683),s,"data-v-d623bd1e",null);e.exports=i.exports},653:function(e,t,a){function s(e){a(592)}var i=a(5)(a(308),a(663),s,"data-v-3248dae8",null);e.exports=i.exports},654:function(e,t,a){function s(e){a(590)}var i=a(5)(a(309),a(660),s,"data-v-2042bbec",null);e.exports=i.exports},655:function(e,t,a){function s(e){a(613)}var i=a(5)(a(310),a(686),s,"data-v-f0140cf8",null);e.exports=i.exports},656:function(e,t,a){function s(e){a(609)}var i=a(5)(a(311),a(681),s,"data-v-b2b0ea3c",null);e.exports=i.exports},657:function(e,t,a){function s(e){a(595)}var i=a(5)(a(312),a(667),s,"data-v-4d7d4c36",null);e.exports=i.exports},658:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page scheduling"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row"},[a("el-form",{ref:"form",staticClass:"yi_border col-lg-6 yi_padding",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单编号"}},[a("el-input",{staticClass:"yi_address",model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"套餐名称"}},[a("el-input",{model:{value:e.form.planName,callback:function(t){e.$set(e.form,"planName",t)},expression:"form.planName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-input",{model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单号码"}},[a("el-input",{model:{value:e.form.orderPhone,callback:function(t){e.$set(e.form,"orderPhone",t)},expression:"form.orderPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{model:{value:e.form.consignee,callback:function(t){e.$set(e.form,"consignee",t)},expression:"form.consignee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"号码"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"派送地址"}},[a("el-input",{staticClass:"yi_address",on:{blur:function(t){e.changeAddress()}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"派送日期"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"请选择日期"},model:{value:e.form.visitTime,callback:function(t){e.$set(e.form,"visitTime",t)},expression:"form.visitTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"派送员"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择派送员"},on:{change:e.chooseUser},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.deliveryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交订单")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("成功单录入")])])}]}},659:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("nav",{staticClass:"sidebar-nav"},[a("ul",{staticClass:"nav"},[a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/businessmanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-object-group fa-lg"}),e._v("业务管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/businessmanage/business",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("业务列表")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/ordermanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-tasks fa-lg"}),e._v("订单录入")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/ordermanage/orderEntry",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("订单录入")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/ordermanage/entryList",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("录入明细")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/ordermanage/successOrderEntry",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("成功单录入")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/callmanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-headphones fa-lg"}),e._v("外呼管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/callmanage/callList",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("外呼列表")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/callmanage/callStatistics",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("外呼统计")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/schedulingmanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-user fa-lg"}),e._v("调度管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/schedulingmanage/schedulingList",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("调度列表")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/areamanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-map-marker fa-lg "}),e._v("站点管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/areamanage/area",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("站点列表")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/areamanage/areaMap",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("站点地图")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/deliverymanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-users fa-lg "}),e._v("派送员管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/deliverymanage/deliveryList",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("派送员列表")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/deliverymanage/schedule",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("排班")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/deliverymanage/delayOrder",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("超时单")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/schedulermanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-user-plus fa-lg "}),e._v("调度员管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/schedulermanage/schedulerList",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("调度员列表")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/reportform"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-wpforms fa-lg "}),e._v("报表管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/reportform/orderform",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("订单报表")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/reportform/callform",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("外呼报表")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/recordmanage"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-volume-down fa-lg "}),e._v("录音管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/recordmanage/record",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("录音列表")])],1)])]),e._v(" "),a("router-link",{staticClass:"nav-item nav-dropdown",attrs:{tag:"li",to:{path:"/system"},disabled:""}},[a("div",{staticClass:"nav-link nav-dropdown-toggle",on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-cog fa-lg"}),e._v("系统管理")]),e._v(" "),a("ul",{staticClass:"nav-dropdown-items"},[a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/system/delivery",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("派送员审核")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/system/pilot",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("试点配置")])],1),e._v(" "),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-padding nav-link",attrs:{to:"/system/contrast",exact:""}},[a("i",{staticClass:"icon-star"}),e._v("关联工号")])],1)])])],1)])])},staticRenderFns:[]}},660:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page scheduling_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("业务：")]),e._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请先选择业务",size:"medium"},model:{value:e.businessId,callback:function(t){e.businessId=t},expression:"businessId"}},e._l(e.businessList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("订单号：")]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入订单编号或ID",size:"medium"},model:{value:e.orderId,callback:function(t){e.orderId="string"==typeof t?t.trim():t},expression:"orderId"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("电话号码：")]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入电话号码",size:"medium"},model:{value:e.phone,callback:function(t){e.phone="string"==typeof t?t.trim():t},expression:"phone"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("开始日期：")]),e._v(" "),a("el-date-picker",{attrs:{size:"medium",type:"datetime",placeholder:"选择外呼开始时间","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.startCallTime,callback:function(t){e.startCallTime=t},expression:"startCallTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("结束日期：")]),e._v(" "),a("el-date-picker",{attrs:{size:"medium",type:"datetime",placeholder:"选择外呼结束时间","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.endCallTime,callback:function(t){e.endCallTime=t},expression:"endCallTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("派送员：")]),e._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择派送员",size:"medium"},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}},e._l(e.deliveryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("订单状态：")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择订单状态",size:"medium"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},[a("el-option",{attrs:{label:"未分配",value:"未分配"}}),e._v(" "),a("el-option",{attrs:{label:"派送",value:"派送"}}),e._v(" "),a("el-option",{attrs:{label:"派送中",value:"派送中"}}),e._v(" "),a("el-option",{attrs:{label:"改派中",value:"改派中"}}),e._v(" "),a("el-option",{attrs:{label:"改约",value:"改约"}}),e._v(" "),a("el-option",{attrs:{label:"成功",value:"成功"}}),e._v(" "),a("el-option",{attrs:{label:"转物流",value:"转物流"}}),e._v(" "),a("el-option",{attrs:{label:"退单",value:"退单"}}),e._v(" "),a("el-option",{attrs:{label:"繁忙另约",value:"繁忙另约"}}),e._v(" "),a("el-option",{attrs:{label:"转区域",value:"转区域"}}),e._v(" "),a("el-option",{attrs:{label:"已激活",value:"已激活"}}),e._v(" "),a("el-option",{attrs:{label:"拒访",value:"拒访"}}),e._v(" "),a("el-option",{attrs:{label:"失效",value:"失效"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("呼叫状态：")]),e._v(" "),a("el-select",{staticClass:"yi_area  ",attrs:{clearable:"",placeholder:"请选择标记",size:"medium"},model:{value:e.callState,callback:function(t){e.callState=t},expression:"callState"}},[a("el-option",{attrs:{label:"未接通",value:"未接通"}}),e._v(" "),a("el-option",{attrs:{label:"未拨打",value:"未拨打"}}),e._v(" "),a("el-option",{attrs:{label:"已接通",value:"已接通"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("站点：")]),e._v(" "),a("el-select",{staticClass:"yi_area",attrs:{clearable:"",placeholder:"请选择站点",size:"medium"},model:{value:e.pointId,callback:function(t){e.pointId=t},expression:"pointId"}},e._l(e.pointList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("呼叫次数：")]),e._v(" "),a("el-select",{staticClass:"yi_area",attrs:{clearable:"",placeholder:"请选择标记",size:"medium"},model:{value:e.callTotal,callback:function(t){e.callTotal=t},expression:"callTotal"}},[a("el-option",{attrs:{label:"0",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"2",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"3",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"4",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"5",value:"5"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("行政区：")]),e._v(" "),a("el-select",{staticClass:"yi_area",attrs:{clearable:"",placeholder:"请选择行政区",size:"medium"},model:{value:e.district,callback:function(t){e.district=t},expression:"district"}},[a("el-option",{attrs:{label:"浦东新区",value:"浦东新区"}}),e._v(" "),a("el-option",{attrs:{label:"宝山区",value:"宝山区"}}),e._v(" "),a("el-option",{attrs:{label:"杨浦区",value:"杨浦区"}}),e._v(" "),a("el-option",{attrs:{label:"黄浦区",value:"黄浦区"}}),e._v(" "),a("el-option",{attrs:{label:"静安区",value:"静安区"}}),e._v(" "),a("el-option",{attrs:{label:"虹口区",value:"虹口区"}}),e._v(" "),a("el-option",{attrs:{label:"徐汇区",value:"徐汇区"}}),e._v(" "),a("el-option",{attrs:{label:"长宁区",value:"长宁区"}}),e._v(" "),a("el-option",{attrs:{label:"普陀区",value:"普陀区"}}),e._v(" "),a("el-option",{attrs:{label:"嘉定区",value:"嘉定区"}}),e._v(" "),a("el-option",{attrs:{label:"崇明区",value:"崇明区"}}),e._v(" "),a("el-option",{attrs:{label:"闵行区",value:"闵行区"}}),e._v(" "),a("el-option",{attrs:{label:"奉贤区",value:"奉贤区"}}),e._v(" "),a("el-option",{attrs:{label:"松江区",value:"松江区"}}),e._v(" "),a("el-option",{attrs:{label:"青浦区",value:"青浦区"}}),e._v(" "),a("el-option",{attrs:{label:"金山区",value:"金山区"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("导入批次：")]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入批次",size:"medium"},model:{value:e.importSequenceId,callback:function(t){e.importSequenceId="string"==typeof t?t.trim():t},expression:"importSequenceId"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("上门时间：")]),e._v(" "),a("el-date-picker",{attrs:{size:"medium",type:"date",placeholder:"选择上门日期","value-format":"yyyy-MM-dd"},model:{value:e.visitTime,callback:function(t){e.visitTime=t},expression:"visitTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("导入开始：")]),e._v(" "),a("el-date-picker",{attrs:{size:"medium",type:"datetime",placeholder:"选择导入开始时间","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.importSequenceStartTime,callback:function(t){e.importSequenceStartTime=t},expression:"importSequenceStartTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("导入结束：")]),e._v(" "),a("el-date-picker",{attrs:{size:"medium",type:"datetime",placeholder:"选择导入结束时间","value-format":"yyyy-MM-dd HH:mm"},model:{value:e.importSequenceEndTime,callback:function(t){e.importSequenceEndTime=t},expression:"importSequenceEndTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-9 search-field search-field_controls"},[a("button",{staticClass:"btn btn-primary search-btn",on:{click:function(t){t.stopPropagation(),e.searchList(1)}}},[e._v("搜索")]),e._v(" "),a("button",{staticClass:"btn btn-success search-btn",on:{click:function(t){return t.stopPropagation(),e.changeDelivery(t)}}},[e._v("单个派送员全部改派")]),e._v(" "),a("button",{staticClass:"btn btn-success search-btn",on:{click:function(t){return t.stopPropagation(),e.batchChangeDelivery(t)}}},[e._v("批量改派"),a("span",{directives:[{name:"show",rawName:"v-show",value:this.checkedList.length>0,expression:"this.checkedList.length > 0"}]},[e._v("( "+e._s(this.checkedList.length)+" )")])]),e._v(" "),a("button",{staticClass:"btn btn-info search-btn",on:{click:function(t){return t.stopPropagation(),e.exportOrder(t)}}},[e._v("导出")])]),e._v(" "),a("div",{staticClass:"col-md-12 search-field yi_table"},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.orderList,border:"","row-key":e.getRowKeys},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",selectable:e.checkSelectable,"reserve-selection":!0}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",label:"订单编号",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.orderId?a("span",[e._v(e._s(t.row.orderId))]):e._e(),e._v(" "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.orderId,expression:"scope.row.orderId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"fa fa-clipboard yi-clipboard"})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"planName",label:"套餐名称",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"orderPhone",label:"订购号码",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"orderTime",label:"下单时间",width:"110",sortable:!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"派送员",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.user?a("span",[e._v(e._s(t.row.user.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderType",label:"订单类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"订单状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallState",label:"通话状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallTime",label:"最新呼叫时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallUser",label:"最新外呼员工",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{label:"需要外呼",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0==t.row.block?"是":"否"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"notConnectCount",label:"外呼次数",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"consignee",label:"收件人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"号码",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"收货地址",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"point",label:"站点",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.point?a("span",[e._v(e._s(t.row.point.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"nextCallTime",label:"繁忙另约时间",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"visitTime",label:"上门时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"completeTime",label:"完结时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importSequenceId",label:"导入批次",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importTime",label:"导入时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importer",label:"导入者",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.importSequence?a("span",[e._v(e._s(t.row.importSequence.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduleRemark",label:"调度员备注",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"expressRemark",label:"派送员备注",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticStyle:{"margin-left":"0"},attrs:{type:"text",size:"medium"},on:{click:function(a){e.handleClick(t.row.id,t.row.businessId)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.handleRecycle(t.row.id,t.row.orderId)}}},[e._v("回收")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.handleRecords(t.row.id,t.row.orderId)}}},[e._v("记录")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"page list-pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalOrders},on:{"current-change":e.searchList,"update:currentPage":function(t){e.pageIndex=t}}})],1)])]),e._v(" "),a("transition",{attrs:{name:"leftIn"}},[e.historyShow?a("div",{staticClass:"history-wrap",on:{click:e.hideHistory}},[a("div",{staticClass:"history",on:{click:function(t){return t.stopPropagation(),e.stopClose(t)}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.historyLoading,expression:"historyLoading"}],staticClass:"history-loading"},[a("i",{staticClass:"el-icon-loading"})]),e._v(" "),a("h3",[e._v(e._s(e.historyOrderId)+"订单记录")]),e._v(" "),e.historyList&&e.historyList.length>0?a("ul",{staticClass:"history-ul"},e._l(e.historyList,function(t,s){return a("li",{key:s,staticClass:"history-li"},[a("div",{staticClass:"history-li-head"},[a("span",{staticClass:"history-li-time"},[e._v(e._s(t.time))]),e._v(" "),a("span",{staticClass:"history-li-user"},[e._v(e._s(e.turnChi(t.editor)))])]),e._v(" "),a("div",{staticClass:"history-li-detail"},e._l(t.changes,function(t,s){return a("div",{key:s},[e._v(e._s(t))])})),e._v(" "),a("hr",{staticClass:"history-line"})])})):a("div",{staticClass:"history-info"},[e._v("暂无任何操作记录")])])]):e._e()]),e._v(" "),a("el-dialog",{attrs:{title:"提示","modal-append-to-body":!1,visible:e.centerDialogVisible,width:"20%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("确定要取消吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"回收提示",visible:e.recycleDialog,"modal-append-to-body":!1,width:"30%",center:""},on:{"update:visible":function(t){e.recycleDialog=t}}},[a("span",[e._v("确定将 "+e._s(e.recycleOrder)+" 订单回收吗？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmRecycle}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"改派(单个用户)",visible:e.callDialogVisible2,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.callDialogVisible2=t}}},[a("el-form",{ref:"form",staticClass:"col-md-8",attrs:{model:e.deliveryForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"改派人员"}},[a("el-select",{attrs:{palceholder:"请选择改派人员"},model:{value:e.deliveryForm.sourceUserId,callback:function(t){e.$set(e.deliveryForm,"sourceUserId",t)},expression:"deliveryForm.sourceUserId"}},e._l(e.deliveryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"目标人员"}},[a("el-select",{attrs:{placeholder:"请选择目标人员",size:"medium"},model:{value:e.deliveryForm.targetUserId,callback:function(t){e.$set(e.deliveryForm,"targetUserId",t)},expression:"deliveryForm.targetUserId"}},e._l(e.deliveryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmChangeDelivery}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"改派(批量改派)",visible:e.callDialogVisible3,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.callDialogVisible3=t}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.checkedList&&e.checkedList.length>0,expression:" checkedList && checkedList.length > 0"}],staticClass:"yi-tags"},[a("p",{staticStyle:{"margin-bottom":"4px"}},[e._v("待改派订单：")]),e._v(" "),e._l(e.checkedList,function(t){return a("el-tag",{key:t.orderId,staticStyle:{"margin-right":"4px","margin-bottom":"4px"},attrs:{closable:""},on:{close:function(a){e.handleClose(t)}}},[e._v("\n                "+e._s(t.orderId)+"\n            ")])})],2),e._v(" "),a("el-form",{ref:"form",staticClass:"col-md-8",attrs:{model:e.deliveryForm3,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"目标人员"}},[a("el-select",{attrs:{placeholder:"请选择目标人员",size:"medium"},model:{value:e.deliveryForm3.targetUserId,callback:function(t){e.$set(e.deliveryForm3,"targetUserId",t)},expression:"deliveryForm3.targetUserId"}},e._l(e.deliveryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmChangeDelivery3}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("调度列表")])])}]}},661:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content_page animated fadeIn"},[a("div",{key:"0",staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("站点地图")])]),e._v(" "),a("div",{key:"1",staticClass:"content-show"},[a("div",{staticClass:"map"},[a("el-amap",{staticClass:"area-map",attrs:{vid:"areaMap",zoom:e.zoom,center:e.mapCenter,plugin:e.plugin}},[e._l(e.markers,function(t){return a("el-amap-marker",{key:t.id,attrs:{position:t.position,vid:t.id}},[a("div",{style:e.slotStyle},[a("span",{style:e.slotStyle2},[e._v(e._s(t.content))])])])}),e._v(" "),e._l(e.circles,function(e){return a("el-amap-circle",{key:e.id,attrs:{center:e.center,radius:e.radius,"fill-opacity":e.fillOpacity,events:e.events,title:e.title}})}),e._v(" "),e._l(e.polygons,function(e,t){return a("el-amap-polygon",{key:t,ref:"polygon_"+t,refInFor:!0,attrs:{vid:t,path:e.path,strokeWeight:e.strokeWeight,fillOpacity:e.fillOpacity,fillColor:e.fillColor,strokeColor:e.strokeColor,events:e.events,title:e.title}})})],2)],1)])])},staticRenderFns:[]}},662:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("header",{staticClass:"app-header navbar"},[e._t("default")],2)},staticRenderFns:[]}},663:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page scheduling"},[a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("调度订单")]),e._v(" "),a("router-link",{staticClass:"btn btn-info back",attrs:{to:{path:"/schedulingmanage/schedulingList"}}},[e._v("\n        返回\n        ")])],1),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row"},[a("el-form",{ref:"form",staticClass:"yi_border col-lg-6 yi_padding",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单编号"}},[a("el-input",{staticClass:"yi_address",attrs:{disabled:""},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}}),e._v(" "),a("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.form.orderId,expression:"form.orderId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}]},[e._v("复制")])],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"业务类型"}},[a("el-input",{attrs:{disabled:""},model:{value:e.businessType,callback:function(t){e.businessType=t},expression:"businessType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"套餐名称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.planName,callback:function(t){e.$set(e.form,"planName",t)},expression:"form.planName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单号码"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.orderPhone,callback:function(t){e.$set(e.form,"orderPhone",t)},expression:"form.orderPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{model:{value:e.form.consignee,callback:function(t){e.$set(e.form,"consignee",t)},expression:"form.consignee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"号码"}},[a("el-input",{staticClass:"yi_address",model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),e._v(" "),a("i",{staticClass:"fa fa-volume-control-phone fa-yi-call",attrs:{"aria-hidden":"true"},on:{click:e.handleCall}})],1),e._v(" "),a("el-form-item",{attrs:{label:"派送地址"}},[a("el-input",{staticClass:"yi_address",attrs:{disabled:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),e._v(" "),a("el-button",{on:{click:function(t){e.handleChangeAddress(e.form.address,e.form.district)}}},[e._v("修改")])],1),e._v(" "),a("el-form-item",{attrs:{label:"外呼结果"}},[a("el-select",{attrs:{placeholder:"请选择外呼结果",clearable:""},model:{value:e.form.lastCallState,callback:function(t){e.$set(e.form,"lastCallState",t)},expression:"form.lastCallState"}},[a("el-option",{attrs:{label:"未接通",value:"未接通"}}),e._v(" "),a("el-option",{attrs:{label:"已接通",value:"已接通"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{placeholder:"请选择订单状态",clearable:""},on:{change:e.chooseState},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"未分配",value:"未分配"}}),e._v(" "),a("el-option",{attrs:{label:"派送",value:"派送"}}),e._v(" "),a("el-option",{attrs:{label:"派送中",value:"派送中"}}),e._v(" "),a("el-option",{attrs:{label:"成功",value:"成功"}}),e._v(" "),a("el-option",{attrs:{label:"转物流",value:"转物流"}}),e._v(" "),a("el-option",{attrs:{label:"退单",value:"退单"}}),e._v(" "),a("el-option",{attrs:{label:"繁忙另约",value:"繁忙另约"}}),e._v(" "),a("el-option",{attrs:{label:"转区域",value:"转区域"}}),e._v(" "),a("el-option",{attrs:{label:"已激活",value:"已激活"}}),e._v(" "),a("el-option",{attrs:{label:"拒访",value:"拒访"}}),e._v(" "),a("el-option",{attrs:{label:"黑名单",value:"黑名单"}})],1)],1),e._v(" "),"退单"==e.form.state?a("el-form-item",{attrs:{label:"退单原因"}},[a("el-select",{attrs:{placeholder:"请选择退单原因",clearable:""},model:{value:e.form.scheduleCancelReason,callback:function(t){e.$set(e.form,"scheduleCancelReason",t)},expression:"form.scheduleCancelReason"}},[a("el-option",{attrs:{label:"一证五户",value:"一证五户"}}),e._v(" "),a("el-option",{attrs:{label:"对套餐资费不满意",value:"对套餐资费不满意"}}),e._v(" "),a("el-option",{attrs:{label:"已有其它卡了",value:"已有其它卡了"}}),e._v(" "),a("el-option",{attrs:{label:"非本人办理申请退单/下错单",value:"非本人办理申请退单/下错单"}}),e._v(" "),a("el-option",{attrs:{label:"帮朋友办理的，现在不需要了",value:"帮朋友办理的，现在不需要了"}}),e._v(" "),a("el-option",{attrs:{label:"不想换号",value:"不想换号"}}),e._v(" "),a("el-option",{attrs:{label:"用户拒绝提供原因",value:"用户拒绝提供原因"}}),e._v(" "),a("el-option",{attrs:{label:"用户对联通印象不好",value:"用户对联通印象不好"}}),e._v(" "),a("el-option",{attrs:{label:"离开上海了，不方便使用",value:"离开上海了，不方便使用"}}),e._v(" "),a("el-option",{attrs:{label:"不会操作太麻烦了",value:"不会操作太麻烦了"}}),e._v(" "),a("el-option",{attrs:{label:"证件不符",value:"证件不符"}}),e._v(" "),a("el-option",{attrs:{label:"证件丢失",value:"证件丢失"}}),e._v(" "),a("el-option",{attrs:{label:"办宽带送的卡",value:"办宽带送的卡"}}),e._v(" "),a("el-option",{attrs:{label:"客户未满16周岁",value:"客户未满16周岁"}}),e._v(" "),a("el-option",{attrs:{label:"已和客服说过退单",value:"已和客服说过退单"}}),e._v(" "),a("el-option",{attrs:{label:"新用户中心退单",value:"新用户中心退单"}})],1)],1):"繁忙另约"==e.form.state?a("el-form-item",{attrs:{label:"预约外呼"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"请选择预约时间"},model:{value:e.form.nextCallTime,callback:function(t){e.$set(e.form,"nextCallTime",t)},expression:"form.nextCallTime"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"派送日期"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"请选择日期"},on:{change:e.choosePointUser},model:{value:e.form.visitTime,callback:function(t){e.$set(e.form,"visitTime",t)},expression:"form.visitTime"}})],1),e._v(" "),"奉贤区"==e.form.district||e.form.visitTime&&e.form.orderTime&&e.form.visitTime.substring(0,10)!=e.form.orderTime.substring(0,10)?a("el-form-item",{attrs:{label:"非当天上门原因"}},[a("el-select",{attrs:{clearable:""},model:{value:e.form.scheduleAnotherDayReason,callback:function(t){e.$set(e.form,"scheduleAnotherDayReason",t)},expression:"form.scheduleAnotherDayReason"}},[a("el-option",{attrs:{label:"不是当天的订单",value:"不是当天的订单"}}),e._v(" "),a("el-option",{attrs:{label:"18:30分以后外呼的订单",value:"18:30分以后外呼的订单"}}),e._v(" "),a("el-option",{attrs:{label:"当日未带证件",value:"当日未带证件"}}),e._v(" "),a("el-option",{attrs:{label:"当日不在收获地址",value:"当日不在收获地址"}}),e._v(" "),a("el-option",{attrs:{label:"17点之后未接通",value:"17点之后未接通"}}),e._v(" "),a("el-option",{attrs:{label:"快递改约",value:"快递改约"}}),e._v(" "),a("el-option",{attrs:{label:"超出5单不予配送",value:"超出5单不予配送"}}),e._v(" "),a("el-option",{attrs:{label:"审核未备注时间点",value:"审核未备注时间点"}}),e._v(" "),a("el-option",{attrs:{label:"（奉贤）用户3天内上门",value:"（奉贤）用户3天内上门"}}),e._v(" "),a("el-option",{attrs:{label:"（奉贤）用户非3天内上门",value:"（奉贤）用户非3天内上门"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"站点"}},[a("el-select",{attrs:{placeholder:"请选择站点",disabled:""},model:{value:e.form.pointId,callback:function(t){e.$set(e.form,"pointId",t)},expression:"form.pointId"}},e._l(e.pointList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"派送员"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择派送员"},on:{change:e.chooseUser},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.deliveryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.id))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.scheduleRemark,callback:function(t){e.$set(e.form,"scheduleRemark",t)},expression:"form.scheduleRemark"}})],1),e._v(" "),a("transition",{attrs:{name:"infoanimation"}},[e.errorInfo?a("div",{staticClass:"errorInfo"},[a("i",{staticClass:"el-alert__icon el-icon-error"}),e._v("\n                        错误的提交: "+e._s(e.information)+"\n                        "),a("i",{staticClass:"el-alert__closebtn el-icon-close",on:{click:function(t){e.errorInfo=!1}}})]):e._e()]),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn btn-success",attrs:{type:"success"},on:{click:e.verifyAddress}},[e._v("验证地址")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交订单")])],1)],1),e._v(" "),a("div",{staticClass:"col-lg-5 yi_border mapall_wrap col-md-12"},[a("div",{staticClass:"map"},[a("el-amap",{staticClass:"area-map",attrs:{vid:"areaMap",zoom:e.zoom,center:e.mapCenter,plugin:e.plugin}},[e._l(e.markers,function(t){return a("el-amap-marker",{key:t.id,attrs:{position:t.position,vid:t.id}},[a("div",{style:e.slotStyle},[a("span",{style:e.slotStyle2},[e._v(e._s(t.content))])])])}),e._v(" "),e._l(e.circles,function(e){return a("el-amap-circle",{key:e.id,attrs:{center:e.center,radius:e.radius,"fill-opacity":e.fillOpacity}})}),e._v(" "),e._l(e.polygons,function(e,t){return a("el-amap-polygon",{key:t,ref:"polygon_"+t,refInFor:!0,attrs:{vid:t,path:e.path,strokeWeight:e.strokeWeight,fillOpacity:e.fillOpacity,fillColor:e.fillColor,strokeColor:e.strokeColor,events:e.events}})}),e._v(" "),2==e.orderMarker.position.length?a("el-amap-marker",{attrs:{vid:"orderdot1",position:e.orderMarker.position}}):e._e()],2)],1)])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示","modal-append-to-body":!1,visible:e.centerDialogVisible,width:"20%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("确定要取消吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改地址",visible:e.addressDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.addressDialog=t}}},[a("el-form",{ref:"addressForm",staticClass:"col-md-12",attrs:{model:e.addressForm,rules:e.addressRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"城市",prop:"city"}},[a("el-input",{attrs:{disabled:""},model:{value:e.addressForm.city,callback:function(t){e.$set(e.addressForm,"city",t)},expression:"addressForm.city"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区",prop:"area"}},[a("el-select",{attrs:{placeholder:"请选择区"},model:{value:e.addressForm.area,callback:function(t){e.$set(e.addressForm,"area",t)},expression:"addressForm.area"}},[a("el-option",{attrs:{label:"浦东新区",value:"浦东新区"}}),e._v(" "),a("el-option",{attrs:{label:"宝山区",value:"宝山区"}}),e._v(" "),a("el-option",{attrs:{label:"杨浦区",value:"杨浦区"}}),e._v(" "),a("el-option",{attrs:{label:"黄浦区",value:"黄浦区"}}),e._v(" "),a("el-option",{attrs:{label:"静安区",value:"静安区"}}),e._v(" "),a("el-option",{attrs:{label:"虹口区",value:"虹口区"}}),e._v(" "),a("el-option",{attrs:{label:"徐汇区",value:"徐汇区"}}),e._v(" "),a("el-option",{attrs:{label:"长宁区",value:"长宁区"}}),e._v(" "),a("el-option",{attrs:{label:"普陀区",value:"普陀区"}}),e._v(" "),a("el-option",{attrs:{label:"嘉定区",value:"嘉定区"}}),e._v(" "),a("el-option",{attrs:{label:"崇明区",value:"崇明区"}}),e._v(" "),a("el-option",{attrs:{label:"闵行区",value:"闵行区"}}),e._v(" "),a("el-option",{attrs:{label:"奉贤区",value:"奉贤区"}}),e._v(" "),a("el-option",{attrs:{label:"松江区",value:"松江区"}}),e._v(" "),a("el-option",{attrs:{label:"青浦区",value:"青浦区"}}),e._v(" "),a("el-option",{attrs:{label:"金山区",value:"金山区"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址",prop:"detailaddress"}},[a("el-input",{model:{value:e.addressForm.detailaddress,callback:function(t){e.$set(e.addressForm,"detailaddress",t)},expression:"addressForm.detailaddress"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirmAddress("addressForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},664:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page call_page"},[a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("订单详情")]),e._v(" "),a("router-link",{staticClass:"btn btn-info back",attrs:{to:{path:"/callmanage/callList"}}},[e._v("\n        返回\n        ")])],1),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row"},[a("el-form",{ref:"form",staticClass:"yi_border col-lg-6 yi_padding",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"订单编号"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.orderId,callback:function(t){e.$set(e.form,"orderId",t)},expression:"form.orderId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.orderTime,callback:function(t){e.$set(e.form,"orderTime",t)},expression:"form.orderTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"业务类型"}},[a("el-input",{attrs:{disabled:""},model:{value:e.businessType,callback:function(t){e.businessType=t},expression:"businessType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"套餐名称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.planName,callback:function(t){e.$set(e.form,"planName",t)},expression:"form.planName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单号码"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.orderPhone,callback:function(t){e.$set(e.form,"orderPhone",t)},expression:"form.orderPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"收件人"}},[a("el-input",{model:{value:e.form.consignee,callback:function(t){e.$set(e.form,"consignee",t)},expression:"form.consignee"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"号码"}},[a("el-input",{staticClass:"yi_address",model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}),e._v(" "),a("i",{staticClass:"fa fa-volume-control-phone fa-yi-call",attrs:{"aria-hidden":"true"},on:{click:e.handleCall}})],1),e._v(" "),a("el-form-item",{attrs:{label:"派送地址"}},[a("el-input",{staticClass:"yi_address",attrs:{disabled:""},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),e._v(" "),a("el-button",{on:{click:function(t){e.handleChangeAddress(e.form.address,e.form.district)}}},[e._v("修改")])],1),e._v(" "),a("el-form-item",{attrs:{label:"外呼结果"}},[a("el-select",{attrs:{placeholder:"请选择外呼结果",clearable:""},model:{value:e.form.lastCallState,callback:function(t){e.$set(e.form,"lastCallState",t)},expression:"form.lastCallState"}},[a("el-option",{attrs:{label:"未接通",value:"未接通"}}),e._v(" "),a("el-option",{attrs:{label:"已接通",value:"已接通"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{placeholder:"请选择订单状态",clearable:""},on:{change:e.chooseState},model:{value:e.form.state,callback:function(t){e.$set(e.form,"state",t)},expression:"form.state"}},[a("el-option",{attrs:{label:"未分配",value:"未分配"}}),e._v(" "),a("el-option",{attrs:{label:"派送",value:"派送"}}),e._v(" "),a("el-option",{attrs:{label:"派送中",value:"派送中"}}),e._v(" "),a("el-option",{attrs:{label:"成功",value:"成功"}}),e._v(" "),a("el-option",{attrs:{label:"转物流",value:"转物流"}}),e._v(" "),a("el-option",{attrs:{label:"退单",value:"退单"}}),e._v(" "),a("el-option",{attrs:{label:"繁忙另约",value:"繁忙另约"}}),e._v(" "),a("el-option",{attrs:{label:"转区域",value:"转区域"}}),e._v(" "),a("el-option",{attrs:{label:"已激活",value:"已激活"}}),e._v(" "),a("el-option",{attrs:{label:"拒访",value:"拒访"}}),e._v(" "),a("el-option",{attrs:{label:"黑名单",value:"黑名单"}})],1)],1),e._v(" "),"退单"==e.form.state?a("el-form-item",{attrs:{label:"退单原因"}},[a("el-select",{attrs:{placeholder:"请选择退单原因",clearable:""},model:{value:e.form.scheduleCancelReason,callback:function(t){e.$set(e.form,"scheduleCancelReason",t)},expression:"form.scheduleCancelReason"}},[a("el-option",{attrs:{label:"对套餐资费不满意",value:"对套餐资费不满意"}}),e._v(" "),a("el-option",{attrs:{label:"已有其它卡了",value:"已有其它卡了"}}),e._v(" "),a("el-option",{attrs:{label:"非本人办理申请退单/下错单",value:"非本人办理申请退单/下错单"}}),e._v(" "),a("el-option",{attrs:{label:"帮朋友办理的，现在不需要了",value:"帮朋友办理的，现在不需要了"}}),e._v(" "),a("el-option",{attrs:{label:"不想换号",value:"不想换号"}}),e._v(" "),a("el-option",{attrs:{label:"用户拒绝提供原因",value:"用户拒绝提供原因"}}),e._v(" "),a("el-option",{attrs:{label:"用户对联通印象不好",value:"用户对联通印象不好"}}),e._v(" "),a("el-option",{attrs:{label:"离开上海了，不方便使用",value:"离开上海了，不方便使用"}}),e._v(" "),a("el-option",{attrs:{label:"不会操作太麻烦了",value:"不会操作太麻烦了"}}),e._v(" "),a("el-option",{attrs:{label:"证件不符",value:"证件不符"}}),e._v(" "),a("el-option",{attrs:{label:"证件丢失",value:"证件丢失"}}),e._v(" "),a("el-option",{attrs:{label:"办宽带送的卡",value:"办宽带送的卡"}}),e._v(" "),a("el-option",{attrs:{label:"客户未满16周岁",value:"客户未满16周岁"}}),e._v(" "),a("el-option",{attrs:{label:"已和客服说过退单",value:"已和客服说过退单"}}),e._v(" "),a("el-option",{attrs:{label:"新用户中心退单",value:"新用户中心退单"}})],1)],1):"繁忙另约"==e.form.state?a("el-form-item",{attrs:{label:"预约外呼"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"请选择预约时间"},model:{value:e.form.nextCallTime,callback:function(t){e.$set(e.form,"nextCallTime",t)},expression:"form.nextCallTime"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"派送日期"}},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"请选择日期"},on:{change:e.choosePointUser},model:{value:e.form.visitTime,callback:function(t){e.$set(e.form,"visitTime",t)},expression:"form.visitTime"}})],1),e._v(" "),"奉贤区"==e.form.district||e.form.visitTime&&e.form.orderTime&&e.form.visitTime.substring(0,10)!=e.form.orderTime.substring(0,10)?a("el-form-item",{attrs:{label:"非当天上门原因"}},[a("el-select",{attrs:{clearable:""},model:{value:e.form.scheduleAnotherDayReason,callback:function(t){e.$set(e.form,"scheduleAnotherDayReason",t)},expression:"form.scheduleAnotherDayReason"}},[a("el-option",{attrs:{label:"一证五户",value:"一证五户"}}),e._v(" "),a("el-option",{attrs:{label:"不是当天的订单",value:"不是当天的订单"}}),e._v(" "),a("el-option",{attrs:{label:"18:30分以后外呼的订单",value:"18:30分以后外呼的订单"}}),e._v(" "),a("el-option",{attrs:{label:"当日未带证件",value:"当日未带证件"}}),e._v(" "),a("el-option",{attrs:{label:"当日不在收获地址",value:"当日不在收获地址"}}),e._v(" "),a("el-option",{attrs:{label:"17点之后未接通",value:"17点之后未接通"}}),e._v(" "),a("el-option",{attrs:{label:"快递改约",value:"快递改约"}}),e._v(" "),a("el-option",{attrs:{label:"超出5单不予配送",value:"超出5单不予配送"}}),e._v(" "),a("el-option",{attrs:{label:"审核未备注时间点",value:"审核未备注时间点"}}),e._v(" "),a("el-option",{attrs:{label:"（奉贤）用户3天内上门",value:"（奉贤）用户3天内上门"}}),e._v(" "),a("el-option",{attrs:{label:"（奉贤）用户非3天内上门",value:"（奉贤）用户非3天内上门"}})],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"站点"}},[a("el-select",{attrs:{placeholder:"请选择站点",disabled:""},model:{value:e.form.pointId,callback:function(t){e.$set(e.form,"pointId",t)},expression:"form.pointId"}},e._l(e.pointList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"派送员"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择派送员"},on:{change:e.chooseUser},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.deliveryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.id))])])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.scheduleRemark,callback:function(t){e.$set(e.form,"scheduleRemark",t)},expression:"form.scheduleRemark"}})],1),e._v(" "),a("transition",{attrs:{name:"infoanimation"}},[e.errorInfo?a("div",{staticClass:"errorInfo"},[a("i",{staticClass:"el-alert__icon el-icon-error"}),e._v("\n                        错误的提交: "+e._s(e.information)+"\n                        "),a("i",{staticClass:"el-alert__closebtn el-icon-close",on:{click:function(t){e.errorInfo=!1}}})]):e._e()]),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn btn-success",attrs:{type:"success"},on:{click:e.verifyAddress}},[e._v("验证地址")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.nextdisable},on:{click:e.onSubmit}},[e._v("提交订单")])],1)],1),e._v(" "),a("div",{staticClass:"col-lg-5 yi_border mapall_wrap col-md-12"},[a("div",{staticClass:"map"},[a("el-amap",{staticClass:"area-map",attrs:{vid:"areaMap",zoom:e.zoom,center:e.mapCenter,plugin:e.plugin}},[e._l(e.markers,function(t){return a("el-amap-marker",{key:t.id,attrs:{position:t.position,vid:t.id}},[a("div",{style:e.slotStyle},[a("span",{style:e.slotStyle2},[e._v(e._s(t.content))])])])}),e._v(" "),e._l(e.circles,function(e){return a("el-amap-circle",{key:e.id,attrs:{center:e.center,radius:e.radius,"fill-opacity":e.fillOpacity}})}),e._v(" "),e._l(e.polygons,function(e,t){return a("el-amap-polygon",{key:t,ref:"polygon_"+t,refInFor:!0,attrs:{vid:t,path:e.path,strokeWeight:e.strokeWeight,fillOpacity:e.fillOpacity,fillColor:e.fillColor,strokeColor:e.strokeColor,events:e.events}})}),e._v(" "),2==e.orderMarker.position.length?a("el-amap-marker",{attrs:{vid:"orderdot1",position:e.orderMarker.position}}):e._e()],2)],1)])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"提示","modal-append-to-body":!1,visible:e.centerDialogVisible,width:"20%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("确定要取消吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改地址",visible:e.addressDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.addressDialog=t}}},[a("el-form",{ref:"addressForm",staticClass:"col-md-12",attrs:{model:e.addressForm,rules:e.addressRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"城市",prop:"city"}},[a("el-input",{attrs:{disabled:""},model:{value:e.addressForm.city,callback:function(t){e.$set(e.addressForm,"city",t)},expression:"addressForm.city"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"区",prop:"area"}},[a("el-select",{attrs:{placeholder:"请选择区"},model:{value:e.addressForm.area,callback:function(t){e.$set(e.addressForm,"area",t)},expression:"addressForm.area"}},[a("el-option",{attrs:{label:"浦东新区",value:"浦东新区"}}),e._v(" "),a("el-option",{attrs:{label:"宝山区",value:"宝山区"}}),e._v(" "),a("el-option",{attrs:{label:"杨浦区",value:"杨浦区"}}),e._v(" "),a("el-option",{attrs:{label:"黄浦区",value:"黄浦区"}}),e._v(" "),a("el-option",{attrs:{label:"静安区",value:"静安区"}}),e._v(" "),a("el-option",{attrs:{label:"虹口区",value:"虹口区"}}),e._v(" "),a("el-option",{attrs:{label:"徐汇区",value:"徐汇区"}}),e._v(" "),a("el-option",{attrs:{label:"长宁区",value:"长宁区"}}),e._v(" "),a("el-option",{attrs:{label:"普陀区",value:"普陀区"}}),e._v(" "),a("el-option",{attrs:{label:"嘉定区",value:"嘉定区"}}),e._v(" "),a("el-option",{attrs:{label:"崇明区",value:"崇明区"}}),e._v(" "),a("el-option",{attrs:{label:"闵行区",value:"闵行区"}}),e._v(" "),a("el-option",{attrs:{label:"奉贤区",value:"奉贤区"}}),e._v(" "),a("el-option",{attrs:{label:"松江区",value:"松江区"}}),e._v(" "),a("el-option",{attrs:{label:"青浦区",value:"青浦区"}}),e._v(" "),a("el-option",{attrs:{label:"金山区",value:"金山区"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"详细地址",prop:"detailaddress"}},[a("el-input",{model:{value:e.addressForm.detailaddress,callback:function(t){e.$set(e.addressForm,"detailaddress",t)},expression:"addressForm.detailaddress"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirmAddress("addressForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("transition",{attrs:{name:"yifade"}},[e.countShow?a("div",{staticClass:"count-wrap"},[a("div",{staticClass:"count"},[a("h5",{staticClass:"count-title"},[e._v("提示")]),e._v(" "),a("p",{staticClass:"count-info"},[a("i",{staticClass:"el-icon-loading"}),e._v(" 倒计时"+e._s(e.count)+"s自动迁入坐席")]),e._v(" "),a("div",{staticClass:"btn-wrap"},[a("button",{staticClass:"el-button el-button--small",on:{click:e.cancel}},[e._v("取消")])])])]):e._e()])],1)},staticRenderFns:[]}},665:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-4 search-field search-field_controls"},[a("button",{staticClass:"btn btn-primary search-btn",on:{click:function(t){t.stopPropagation(),e.searchList(1)}}},[e._v("超时单")])]),e._v(" "),e.orderList&&e.orderList.length>0?a("div",{staticClass:"col-md-12 search-field yi_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"orderId",label:"订单编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"派送员",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.user?a("span",[e._v(e._s(t.row.user.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderType",label:"订单类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"订单状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"callState",label:"通话状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"consignee",label:"收件人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"号码",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"收货地址",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"workId",label:"工号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"point",label:"站点",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.point?a("span",[e._v(e._s(t.row.point.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallTime",label:"最新呼叫时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"visitTime",label:"派送时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importer",label:"导入者",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.importSequence?a("span",[e._v(e._s(t.row.importSequence.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"importTime",label:"订单导入时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.importSequence?a("span",[e._v(e._s(t.row.importSequence.importTime))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduleRemark",label:"备注",width:"120"}})],1),e._v(" "),a("div",{staticClass:"page yi_page"},[a("el-pagination",{attrs:{background:"","current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalOrders},on:{"current-change":e.searchList,"update:currentPage":function(t){e.pageIndex=t}}})],1)],1):e._e(),e._v(" "),a("div",{staticClass:"info"},[e._v("暂时没有出现超时单...")])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("超时单列表")])])}]}},666:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("AppHeader"),e._v(" "),a("div",{staticClass:"app-body"},[a("Sidebar"),e._v(" "),a("main",{staticClass:"main"},[a("breadcrumb",{attrs:{list:e.list}}),e._v(" "),a("div",{staticClass:"container-fluid"},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view")],1)],1)],1)],1)},staticRenderFns:[]}},667:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content_page animated fadeIn"},[a("div",{key:"0",staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("试点配置")])]),e._v(" "),a("div",{key:"1",staticClass:"content-show"},[a("div",{staticClass:"col-md-5 search-field search-field_controls"},[a("button",{staticClass:"btn search-btn btn-info",on:{click:e.addPoint}},[e._v("新增试点")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"phone",label:"码上购落单手机号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"派送员",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formataUser(t.row.userId)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"站点"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formataPoint(t.row.pointId)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否匹配站点"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formataMatch(t.row.needMatchPoint)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteConfig(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除","modal-append-to-body":!1,visible:e.deleteDialog,width:"20%",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("确定要删除该试点吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmDeleteConfig}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增试点",visible:e.addDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"form",staticClass:"col-md-10",attrs:{model:e.form,"label-width":"80px",rules:e.ruleForm}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入落单的手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"匹配站点"}},[a("el-switch",{model:{value:e.form.matchPoint,callback:function(t){e.$set(e.form,"matchPoint",t)},expression:"form.matchPoint"}})],1),e._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:0==e.form.matchPoint,expression:"form.matchPoint == false"}],attrs:{label:"派送员",prop:"userId"}},[a("el-select",{model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.userList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addConfig()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},668:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("router-view")},staticRenderFns:[]}},669:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delivery-page animated fadeIn content_page"},[a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("派送员信息")]),e._v(" "),a("router-link",{staticClass:"btn btn-info back",attrs:{to:"/deliverymanage/deliveryList"}},[e._v("\n            返回\n        ")])],1),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",inline:!0}},[a("el-form-item",{attrs:{label:"姓名",size:"medium"}},[a("el-input",{staticClass:"yi_input",attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",size:"medium"}},[a("el-input",{staticClass:"yi_input",on:{input:e.changeAddress},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经度lng",size:"medium"}},[a("el-input",{staticClass:"yi_input",attrs:{disabled:""},model:{value:e.form.lng,callback:function(t){e.$set(e.form,"lng",t)},expression:"form.lng"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纬度lat",size:"medium"}},[a("el-input",{staticClass:"yi_input",attrs:{disabled:""},model:{value:e.form.lat,callback:function(t){e.$set(e.form,"lat",t)},expression:"form.lat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"站点",size:"medium"}},[a("el-select",{staticClass:"yi_input",attrs:{placeholder:"请选择站点"},model:{value:e.form.pointId,callback:function(t){e.$set(e.form,"pointId",t)},expression:"form.pointId"}},e._l(e.pointOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"业务",size:"medium"}},[a("el-select",{staticClass:"yi_input",attrs:{placeholder:"请分配业务",multiple:""},model:{value:e.userBusinesses,callback:function(t){e.userBusinesses=t},expression:"userBusinesses"}},e._l(e.businessOptions,function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})}))],1),e._v(" "),a("el-form-item",{staticClass:"yi_button",attrs:{size:"medium"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmUpdate}},[e._v("确认")])],1)],1)],1)])])},staticRenderFns:[]}},670:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content_page animated fadeIn"},[a("div",{key:"0",staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("业务列表")])]),e._v(" "),a("div",{key:"1",staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-1 search-field search-field_controls"},[a("button",{staticClass:"btn search-btn btn-info",on:{click:e.handleBusinessDialog}},[e._v("新增")])])]),e._v(" "),a("div",{staticClass:"row "},[a("div",{staticClass:"col-lg-12"},[e.businessList&&e.businessList.length>0?a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(0),e._v(" "),e._l(e.businessList,function(t,s){return a("tbody",{key:s},[a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.type))]),e._v(" "),a("td",[e._v(e._s(t.description))])])])})],2):a("div",{staticClass:"notbusinessInfo"},[e._v("暂时还没有业务啦")])])])]),e._v(" "),a("el-dialog",{attrs:{title:e.DialogConfig[e.curDialog].title,visible:e.businessDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.businessDialog=t}}},[a("el-form",{ref:"form",staticClass:"col-md-12",attrs:{model:e.form,rules:e.rule,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"业务名称",prop:"name"}},[a("el-input",{staticClass:"yi_width",attrs:{debounce:"300"},on:{input:e.checkName},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errorShow,expression:"errorShow"}],staticClass:"error-show"},[a("i",{staticClass:"fa",class:[e.errIcon?"fa-close":"fa-check"]})])],1),e._v(" "),a("el-form-item",{attrs:{label:"业务类型"}},[a("el-select",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{lable:"调度业务",value:"调度业务"}}),e._v(" "),a("el-option",{attrs:{label:"营销业务",value:"营销业务"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"业务描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:e.isrepeat},on:{click:function(t){e.handleBoth("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("业务名称")]),e._v(" "),a("th",[e._v("业务类型")]),e._v(" "),a("th",[e._v("业务描述")])])])}]}},671:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delivery-page animated fadeIn content_page orderform-page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label"},[e._v("开始日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label"},[e._v("结束日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-4 search-field"},[a("button",{staticClass:"btn search-btn btn-info",on:{click:e.searchForm}},[e._v("搜索")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(1),e._v(" "),e._l(e.formList,function(t,s){return a("tbody",{key:s},[a("tr",[a("td",[e._v(e._s(t.importSequence.importTime))]),e._v(" "),a("td",[e._v(e._s(t.importSequence.count))]),e._v(" "),a("td",[e._v(e._s(t.assignCount))]),e._v(" "),a("td",[e._v(e._s(t.assignRate))]),e._v(" "),a("td",[e._v(e._s(t.finishCount))]),e._v(" "),a("td",[e._v(e._s(t.finishRate))]),e._v(" "),a("td",[e._v(e._s(t.rejectCount))]),e._v(" "),a("td",[e._v(e._s(t.rejectRate))])])])})],2)])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("订单报表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("导入日期")]),e._v(" "),a("th",[e._v("订单量")]),e._v(" "),a("th",[e._v("派单量")]),e._v(" "),a("th",[e._v("派单率")]),e._v(" "),a("th",[e._v("回单量")]),e._v(" "),a("th",[e._v("回单率")]),e._v(" "),a("th",[e._v("退单量")]),e._v(" "),a("th",[e._v("退单率")])])])}]}},672:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content_page animated fadeIn"},[a("div",{key:"0",staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("站点列表")])]),e._v(" "),a("div",{key:"1",staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-5 search-field search-field_controls"},[a("button",{staticClass:"btn search-btn btn-info",on:{click:e.addPoint}},[e._v("新增站点")])])]),e._v(" "),a("div",{staticClass:"row "},[a("div",{staticClass:"col-lg-12"},[e.pointList&&e.pointList.length>0?a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(0),e._v(" "),e._l(e.pointList,function(t,s){return a("tbody",{key:s},[a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.district))]),e._v(" "),a("td",[e._v(e._s(t.address))]),e._v(" "),a("td",[e._v(e._s(t.lng))]),e._v(" "),a("td",[e._v(e._s(t.lat))]),e._v(" "),a("td",[e._v(e._s(t.radius))]),e._v(" "),a("td",[a("a",{on:{click:function(a){e.updatePoint(t.id)}}},[e._v("修改")]),e._v(" "),a("a",{on:{click:function(a){e.deletePoint(t.id)}}},[e._v("删除")])])])])})],2):e._e()])])]),e._v(" "),a("el-dialog",{attrs:{title:"删除","modal-append-to-body":!1,visible:e.deleteDialog,width:"30%",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("删除后无法找回，确定要删除此站点吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmdeletePoint}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.DialogConfig[e.curDialog].title,visible:e.pointDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.pointDialog=t},closed:e.closeForm}},[a("el-form",{ref:"form",staticClass:"col-md-10",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[a("el-form-item",{attrs:{label:"站点名称",prop:"name"}},[a("el-input",{staticClass:"yi_width",attrs:{debounce:"300"},on:{input:e.checkPoint},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.errorShow,expression:"errorShow"}],staticClass:"error-show"},[a("i",{staticClass:"fa",class:[e.errIcon?"fa-close":"fa-check"]})])],1),e._v(" "),a("el-form-item",{attrs:{label:"站点区域",prop:"district"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.district,callback:function(t){e.$set(e.form,"district",t)},expression:"form.district"}},[a("el-option",{attrs:{label:"浦东新区",value:"浦东新区"}}),e._v(" "),a("el-option",{attrs:{label:"宝山区",value:"宝山区"}}),e._v(" "),a("el-option",{attrs:{label:"杨浦区",value:"杨浦区"}}),e._v(" "),a("el-option",{attrs:{label:"黄浦区",value:"黄浦区"}}),e._v(" "),a("el-option",{attrs:{label:"静安区",value:"静安区"}}),e._v(" "),a("el-option",{attrs:{label:"虹口区",value:"虹口区"}}),e._v(" "),a("el-option",{attrs:{label:"徐汇区",value:"徐汇区"}}),e._v(" "),a("el-option",{attrs:{label:"长宁区",value:"长宁区"}}),e._v(" "),a("el-option",{attrs:{label:"普陀区",value:"普陀区"}}),e._v(" "),a("el-option",{attrs:{label:"嘉定区",value:"嘉定区"}}),e._v(" "),a("el-option",{attrs:{label:"崇明区",value:"崇明区"}}),e._v(" "),a("el-option",{attrs:{label:"闵行区",value:"闵行区"}}),e._v(" "),a("el-option",{attrs:{label:"奉贤区",value:"奉贤区"}}),e._v(" "),a("el-option",{attrs:{label:"松江区",value:"松江区"}}),e._v(" "),a("el-option",{attrs:{label:"青浦区",value:"青浦区"}}),e._v(" "),a("el-option",{attrs:{label:"金山区",value:"金山区"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"站点地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"如果是以行政区划分站点，那么以下的信息不要填写"},on:{blur:e.getLngLat},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address","string"==typeof t?t.trim():t)},expression:"form.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"经度",prop:"lng"}},[a("el-input",{model:{value:e.form.lng,callback:function(t){e.$set(e.form,"lng",e._n(t))},expression:"form.lng"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"纬度",prop:"lat"}},[a("el-input",{model:{value:e.form.lat,callback:function(t){e.$set(e.form,"lat",e._n(t))},expression:"form.lat"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"范围(km)",prop:"radius"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.radius,callback:function(t){e.$set(e.form,"radius",e._n(t))},expression:"form.radius"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:e.isrepeat},on:{click:function(t){e.bothConfirm("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("站点ID")]),e._v(" "),a("th",[e._v("站点名称")]),e._v(" "),a("th",[e._v("站点区域")]),e._v(" "),a("th",[e._v("详细地址")]),e._v(" "),a("th",[e._v("经度")]),e._v(" "),a("th",[e._v("纬度")]),e._v(" "),a("th",[e._v("范围(km)")]),e._v(" "),a("th",[e._v("操作")])])])}]}},673:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("navbar",[a("button",{staticClass:"navbar-toggler mobile-sidebar-toggler d-lg-none",attrs:{type:"button"},on:{click:e.mobileSidebarToggle}},[e._v("☰")]),e._v(" "),a("a",{staticClass:"navbar-brand"}),e._v(" "),a("ul",{staticClass:"nav navbar-nav d-md-down-none"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link navbar-toggler sidebar-toggler",on:{click:e.sidebarMinimize}},[e._v("☰")])])]),e._v(" "),e.isSchdule?a("ul",{staticClass:"nav navbar-nav ml-auto d-md-down-none yi-ul"},[a("li",{staticClass:"call-li"},[a("a",{staticClass:"call-a",class:e.isMute?"isactive":"",attrs:{href:"javascript:void(0)"},on:{click:e.muteCall}},[a("i",{staticClass:"fa fa-lg",class:e.isMute?"fa-microphone-slash":"fa-microphone"}),e._v(" "),e.isMute?a("div",{staticClass:"call-text"},[e._v("恢复")]):a("div",{staticClass:"call-text"},[e._v("静音")])])]),e._v(" "),a("li",{staticClass:"call-li"},[a("a",{staticClass:"call-a",attrs:{href:"javascript:void(0)"},on:{click:e.hangUpCall}},[a("i",{staticClass:"fa fa-tty fa-lg"}),e._v(" "),a("div",{staticClass:"call-text"},[e._v("挂机")])])]),e._v(" "),a("li",{staticClass:"call-li"},[a("a",{staticClass:"call-a",attrs:{href:"javascript:void(0)"},on:{click:e.moveInCall}},[a("i",{staticClass:"fa fa-lg",class:e.isonLine?"fa-sign-out":"fa-sign-in"}),e._v(" "),a("div",{staticClass:"call-text"},[e._v(e._s(e.isonLine?"迁出":"迁入"))])])]),e._v(" "),a("li",{staticClass:"userState",class:e.isonLine?"online":""},[a("i",{staticClass:"fa fa-lg fa-user"}),e._v(" "),a("div",{staticClass:"call-text"},[e._v("在线")])])]):e._e(),e._v(" "),a("ul",{staticClass:"nav navbar-nav ml-auto d-md-down-none"},[a("li",{staticClass:"yi-proName"},[a("span",{staticStyle:{color:"#20a8d8","font-weight":"600"}},[e._v("订单调度系统")])])]),e._v(" "),a("ul",{staticClass:"nav navbar-nav ml-auto d-md-down-none"},[a("li",{staticClass:"nav-item"},[a("el-dropdown",{on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link nav-lick pr-3 yi-username"},[e._v("\n                  "+e._s(e.username)),a("i",{staticClass:"el-icon-arrow-down el-icon--right yi-username-icon"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a"}},[e._v("修改密码")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"b"}},[e._v("退出")])],1)],1)],1)]),e._v(" "),a("el-dialog",{attrs:{title:"重置密码","modal-append-to-body":!1,visible:e.passwordDialog,width:"25%",center:""},on:{"update:visible":function(t){e.passwordDialog=t}}},[a("div",{staticClass:"content-show text-center"},[a("div",{staticClass:"row mb-1 list-search"},[a("div",{staticClass:"col-md-12 search-field"},[a("div",{staticClass:"label yi-confirm"},[e._v("原始密码：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.origPassword,expression:"origPassword",modifiers:{trim:!0}}],staticClass:"form-control input-field",attrs:{type:"password",placeholder:"输入原始密码"},domProps:{value:e.origPassword},on:{input:function(t){t.target.composing||(e.origPassword=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("div",{staticClass:"row mb-1 list-search"},[a("div",{staticClass:"col-md-12 search-field"},[a("div",{staticClass:"label"},[e._v("新密码：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control input-field",attrs:{type:"password",placeholder:"输入新密码"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value.trim())},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),a("div",{staticClass:"row mb-1 list-search"},[a("div",{staticClass:"col-md-12 search-field"},[a("div",{staticClass:"label yi-confirm"},[e._v("确认密码：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.rePassword,expression:"rePassword",modifiers:{trim:!0}}],staticClass:"form-control input-field",attrs:{type:"password",placeholder:"请再次输入新密码"},domProps:{value:e.rePassword},on:{blur:[e.checkPwd,function(t){e.$forceUpdate()}],input:function(t){t.target.composing||(e.rePassword=t.target.value.trim())}}})])]),e._v(" "),a("div",{staticClass:"row mb-1 yi_footer"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.pwd_err,expression:"pwd_err"}],class:{"pwd-info-error animated shake":e.pwd_err}},[e._v("两次输入密码不一致")])])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:e.pwd_err},on:{click:e.confirmUpdate}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},674:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-3 col-ms-4 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("开始时间：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetime",placeholder:"选择时间","value-format":"yyyy-MM-dd"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 col-ms-4 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("结束时间：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetime",placeholder:"选择时间","value-format":"yyyy-MM-dd"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field search-field_controls"},[a("button",{staticClass:"btn btn-primary search-btn",on:{click:function(t){t.stopPropagation(),e.searchList(1)}}},[e._v("搜索")])]),e._v(" "),a("div",{staticClass:"col-md-12 search-field yi_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"importTime",label:"导入时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",label:"导入批次"}}),e._v(" "),a("el-table-column",{attrs:{prop:"businessId",label:"业务ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"guid",label:"序列号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"导入者"}}),e._v(" "),a("el-table-column",{attrs:{prop:"count",label:"订单数量"}})],1)],1),e._v(" "),a("div",{staticClass:"page yi_page"},[a("el-pagination",{attrs:{background:"","current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalOrders},on:{"current-change":e.searchList,"update:currentPage":function(t){e.pageIndex=t}}})],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("录入明细")])])}]}},675:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"call-wrap"},[a("el-input",{staticClass:"yi-phone",attrs:{type:"text",placeholder:"请输入呼叫手机号码",size:"medium"},model:{value:e.callPhone,callback:function(t){e.callPhone="string"==typeof t?t.trim():t},expression:"callPhone"}}),e._v(" "),a("button",{staticClass:"btn btn-info ",on:{click:e.handleCallPhone}},[e._v("呼叫")])],1),e._v(" "),a("div",{staticClass:"collapse-wrap"},[a("el-collapse",{attrs:{accordion:""}},[a("el-collapse-item",{nativeOn:{click:function(t){return e.prevClick(t)}}},[a("template",{slot:"title"},[e._v("\n                    预拨情况"),a("i",{staticClass:"header-icon el-icon-info"})]),e._v(" "),a("div",[e._v("\n                        待分配订单量："),a("span",{staticStyle:{color:"#409eff"}},[e._v(e._s(e.callDetail.total))]),e._v(" , \n                        呼叫队列剩余订单量："),a("span",{staticStyle:{color:"#67c23a"}},[e._v(e._s(e.callDetail.seq))]),e._v(" , \n                        繁忙另约订单量: "),a("span",{staticStyle:{color:"#e6a23c"}},[e._v(e._s(e.callDetail.busy))]),e._v(" ,  \n                        未接通订单量："),a("span",{staticStyle:{color:"#909399"}},[e._v(e._s(e.callDetail.notConnect))]),e._v(" , \n                        呼叫3次未接通订单量： "),a("span",{staticStyle:{color:"#f56c6c"}},[e._v(e._s(e.callDetail.three))])])],2)],1)],1),e._v(" "),a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("业务：")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择业务",size:"medium"},model:{value:e.businessId,callback:function(t){e.businessId=t},expression:"businessId"}},e._l(e.businessList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("订单号：")]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入订单编号或ID",size:"medium"},model:{value:e.orderId,callback:function(t){e.orderId="string"==typeof t?t.trim():t},expression:"orderId"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("订单状态：")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择订单状态",size:"medium"},model:{value:e.state,callback:function(t){e.state=t},expression:"state"}},[a("el-option",{attrs:{label:"未分配",value:"未分配"}}),e._v(" "),a("el-option",{attrs:{label:"繁忙另约",value:"繁忙另约"}}),e._v(" "),a("el-option",{attrs:{label:"拒访",value:"拒访"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("呼叫状态：")]),e._v(" "),a("el-select",{staticClass:"yi_area  ",attrs:{clearable:"",placeholder:"请选择标记",size:"medium"},model:{value:e.callState,callback:function(t){e.callState=t},expression:"callState"}},[a("el-option",{attrs:{label:"未拨打",value:"未拨打"}}),e._v(" "),a("el-option",{attrs:{label:"已提取",value:"已提取"}}),e._v(" "),a("el-option",{attrs:{label:"未接通",value:"未接通"}}),e._v(" "),a("el-option",{attrs:{label:"已接通",value:"已接通"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("呼叫次数：")]),e._v(" "),a("el-select",{staticClass:"yi_area",attrs:{clearable:"",placeholder:"请选择标记",size:"medium"},model:{value:e.callTotal,callback:function(t){e.callTotal=t},expression:"callTotal"}},[a("el-option",{attrs:{label:"0",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"2",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"3",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"4",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"5",value:"5"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("行政区：")]),e._v(" "),a("el-select",{staticClass:"yi_area",attrs:{clearable:"",placeholder:"请选择行政区",size:"medium"},model:{value:e.district,callback:function(t){e.district=t},expression:"district"}},[a("el-option",{attrs:{label:"浦东新区",value:"浦东新区"}}),e._v(" "),a("el-option",{attrs:{label:"宝山区",value:"宝山区"}}),e._v(" "),a("el-option",{attrs:{label:"杨浦区",value:"杨浦区"}}),e._v(" "),a("el-option",{attrs:{label:"黄浦区",value:"黄浦区"}}),e._v(" "),a("el-option",{attrs:{label:"静安区",value:"静安区"}}),e._v(" "),a("el-option",{attrs:{label:"虹口区",value:"虹口区"}}),e._v(" "),a("el-option",{attrs:{label:"徐汇区",value:"徐汇区"}}),e._v(" "),a("el-option",{attrs:{label:"长宁区",value:"长宁区"}}),e._v(" "),a("el-option",{attrs:{label:"普陀区",value:"普陀区"}}),e._v(" "),a("el-option",{attrs:{label:"嘉定区",value:"嘉定区"}}),e._v(" "),a("el-option",{attrs:{label:"崇明区",value:"崇明区"}}),e._v(" "),a("el-option",{attrs:{label:"闵行区",value:"闵行区"}}),e._v(" "),a("el-option",{attrs:{label:"奉贤区",value:"奉贤区"}}),e._v(" "),a("el-option",{attrs:{label:"松江区",value:"松江区"}}),e._v(" "),a("el-option",{attrs:{label:"青浦区",value:"青浦区"}}),e._v(" "),a("el-option",{attrs:{label:"金山区",value:"金山区"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-4 search-field search-field_controls"},[a("button",{staticClass:"btn btn-primary search-btn",on:{click:function(t){t.stopPropagation(),e.searchList(1)}}},[e._v("搜索")]),e._v(" "),a("button",{staticClass:"btn btn-info search-btn",on:{click:function(t){return t.stopPropagation(),e.backRoll(t)}}},[e._v("回滚")]),e._v(" "),a("button",{staticClass:"btn btn-success search-btn",on:{click:function(t){return t.stopPropagation(),e.backRollCalled(t)}}},[e._v("已接通回滚")])]),e._v(" "),a("div",{staticClass:"col-md-12 search-field yi_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,border:""}},[a("el-table-column",{attrs:{fixed:"",label:"订单编号",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.orderId))]),e._v(" "),a("i",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.row.orderId,expression:"scope.row.orderId",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.clipboardSuccess,expression:"clipboardSuccess",arg:"success"}],staticClass:"fa fa-clipboard yi-clipboard"})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"planName",label:"套餐名称",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"orderPhone",label:"订购号码",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"orderTime",label:"下单时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"派送员",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.user?a("span",[e._v(e._s(t.row.user.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderType",label:"订单类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"订单状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallState",label:"通话状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"notConnectCount",label:"外呼次数",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"需要外呼",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0==t.row.block?"是":"否"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"consignee",label:"收件人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"号码",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"收货地址",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"point",label:"站点",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.point?a("span",[e._v(e._s(t.row.point.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallTime",label:"最新呼叫时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nextCallTime",label:"繁忙另约时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"visitTime",label:"派送时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importSequenceId",label:"导入批次",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importTime",label:"导入时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importer",label:"导入者",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.importSequence?a("span",[e._v(e._s(t.row.importSequence.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"importTime",label:"订单导入时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.importSequence?a("span",[e._v(e._s(t.row.importSequence.importTime))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduleRemark",label:"备注",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"medium"},on:{click:function(a){e.handleCall(t.row.id,t.row.phone,t.row.businessId)}}},[e._v("查看")]),a("br")]}}])})],1)],1),e._v(" "),a("div",{staticClass:"page yi_page"},[a("el-pagination",{attrs:{background:"","current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalOrders},on:{"current-change":e.searchList,"update:currentPage":function(t){e.pageIndex=t}}})],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("外呼列表")])])}]}},676:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page record-page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-2 search-field yi-left"},[a("div",{staticClass:"label",staticStyle:{left:"28px"}},[e._v("业务：")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择业务",size:"small"},model:{value:e.businessId,callback:function(t){e.businessId=t},expression:"businessId"}},e._l(e.businessList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-md-3 col-ms-4 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("开始日期：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 col-ms-4 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("结束日期：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"date",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),e._v(" "),a("div",{staticClass:"col-md-2 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("查询号码：")]),e._v(" "),a("el-input",{attrs:{size:"small",type:"text",placeholder:"请输入电话号码"},model:{value:e.phone,callback:function(t){e.phone="string"==typeof t?t.trim():t},expression:"phone"}})],1),e._v(" "),a("div",{staticClass:"col-md-2 search-field search-field_controls"},[a("button",{staticClass:"btn btn-primary search-btn",on:{click:function(t){t.stopPropagation(),e.searchList(1)}}},[e._v("搜索")]),e._v(" "),a("button",{staticClass:"btn btn-primary search-btn",on:{click:function(t){return t.stopPropagation(),e.exportCallHistories(t)}}},[e._v("导出")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(1),e._v(" "),a("tbody",e._l(e.recordList,function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(t.orderId))]),e._v(" "),a("td",[e._v(e._s(t.startTime))]),e._v(" "),a("td",[e._v(e._s(t.phone))]),e._v(" "),a("td",[e._v(e._s(t.duration))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[a("a",{staticClass:"i-wrap",staticStyle:{color:"black"},on:{click:function(a){e.listen(t)}}},[a("i",{staticClass:"fa text-success",class:{"fa-microphone":"已接通"===t.callState}})])])])}))]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.recordList.length>0&&e.totalRecords>10,expression:"(recordList.length > 0 && totalRecords > 10)"}],staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalRecords},on:{"current-change":e.searchList,"update:currentPage":function(t){e.currentPage=t}}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.recordList.length,expression:"recordList.length == 0"}],staticClass:"info"},[e._v("\n                    请根据条件搜索录音记录\n                ")])])])]),e._v(" "),a("transition",{attrs:{name:"voiceAnimation"}},[e.voiceFlag?a("div",{staticClass:"voice-bg"},[a("div",{staticClass:"voice-wrap"},[a("audio",{staticClass:"voice",attrs:{src:e.voiceSrc,controls:"",autoplay:""}}),e._v(" "),a("i",{staticClass:"el-icon-circle-close yi-icon",on:{click:e.closeVoice}})])]):e._e(),e._v("`\n    ")])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("录音记录")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("订单编号")]),e._v(" "),a("th",[e._v("通话时间")]),e._v(" "),a("th",[e._v("拨打号码")]),e._v(" "),a("th",[e._v("通话时长")]),e._v(" "),a("th",[e._v("工号")]),e._v(" "),a("th",[e._v("操作")])])])}]}},677:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"search-field col-md-6"},[a("div",{staticClass:"label",staticStyle:{left:"0px",top:"4px"}},[e._v("业务名称：")]),e._v(" "),a("el-select",{staticStyle:{width:"360px"},attrs:{placeholder:"请选择业务",filterable:""},on:{change:e.chooseBusiness},model:{value:e.businessId,callback:function(t){e.businessId=t},expression:"businessId"}},e._l(e.businessList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),e._m(1),e._v(" "),a("div",{staticClass:"col-md-12 search-field yi_margintop"},[a("div",{staticClass:"label",staticStyle:{left:"0px",top:"4px"}},[e._v("过滤条件：")]),e._v(" "),a("el-checkbox-group",{model:{value:e.filterOrder,callback:function(t){e.filterOrder=t},expression:"filterOrder"}},[a("el-checkbox",{key:"block",attrs:{label:"黑名单"}}),e._v(" "),a("el-checkbox",{key:"callednumber",attrs:{label:"已呼号码"}})],1)],1),e._v(" "),a("div",{staticClass:"col-md-12 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px",top:"24px"}},[e._v("选择文件：")]),e._v(" "),a("div",{staticClass:"upload-wrap"},[a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","before-upload":e.beforeExcelUpload,"on-remove":e.handleRemove,"on-change":e.handleFileChange,limit:1,"on-exceed":e.handleLimit,"file-list":e.fileList,"auto-upload":!1}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将excel文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传excel文件")])])],1)]),e._v(" "),a("div",{staticClass:"col-md-12 search-field"},[a("el-button",{staticClass:"col-md-2",attrs:{type:"primary"},on:{click:e.confirmCreate}},[e._v("确认")])],1)])]),e._v(" "),a("el-dialog",{attrs:{title:"提示","modal-append-to-body":!1,visible:e.centerDialogVisible,width:"20%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("确定要取消吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("订单录入")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-field col-md-12"},[a("div",{staticClass:"label",staticStyle:{left:"0px",top:"16px"}},[e._v("下载模板：")]),e._v(" "),a("div",{staticClass:"download-file"},[a("a",{staticClass:"download",attrs:{href:"/api/orders/template",download:""}},[e._v("点击下载")])])])}]}},678:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delivery-page animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12",staticStyle:{"margin-bottom":"24px"}},[a("el-select",{staticStyle:{width:"576px"},attrs:{filterable:"",clearable:"",placeholder:"请先选择站点",size:"medium"},on:{change:e.handleSearch},model:{value:e.pointId,callback:function(t){e.pointId=t},expression:"pointId"}},e._l(e.pointOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),e._v(" "),a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择派送员",size:"medium"},on:{change:e.handleSearch},model:{value:e.deliveryId,callback:function(t){e.deliveryId=t},expression:"deliveryId"}},e._l(e.deliveryOptions,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(1),e._v(" "),e._l(e.deliveryList,function(t,s){return a("tbody",{key:s},[a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.phone))]),e._v(" "),a("td",[e._v(e._s(t.password))]),e._v(" "),a("td",[e._v(e._s(e.formatPoint(t.pointId)))]),e._v(" "),a("td",[e._v(e._s(e.formatBusiness(t.userBusinesses)))]),e._v(" "),a("td",[e._v(e._s(t.address))]),e._v(" "),a("td",[a("router-link",{attrs:{to:{path:"/deliverymanage/updateDelivery",query:{Id:t.id}}}},[e._v("\n                                    修改\n                                ")]),e._v(" "),a("a",{on:{click:function(a){e.deleteDelivery(t.id)}}},[e._v("删除")])],1)])])})],2),e._v(" "),e.deliveryList&&e.deliveryList.length>0&&e.total>3?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.searchList,"update:currentPage":function(t){e.pageIndex=t}}})],1):e._e()])])]),e._v(" "),a("el-dialog",{attrs:{title:"删除","modal-append-to-body":!1,visible:e.deleteDialog,width:"30%",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("删除后无法找回，确定要删除此用户吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmDeleteDelivery}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("派送员列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("姓名")]),e._v(" "),a("th",[e._v("电话号码")]),e._v(" "),a("th",[e._v("密码")]),e._v(" "),a("th",[e._v("站点")]),e._v(" "),a("th",[e._v("业务")]),e._v(" "),a("th",[e._v("地址")]),e._v(" "),a("th",[e._v("操作")])])])}]}},679:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[e.scheduleList&&e.scheduleList.length>0?a("div",{staticClass:"row list-search"},[e._l(e.scheduleList,function(t,s){return a("div",{key:s,staticClass:" search-field yi_border"},[a("div",{staticClass:"date"},[e._v("日期："+e._s(t.workTime))]),e._v(" "),a("el-transfer",{attrs:{titles:["所有派送员","当日派送员"],"button-texts":["移除","添加"],data:e.deliveryList,props:{key:"id",label:"name"}},model:{value:e.scheduleList[s].userPoints,callback:function(t){e.$set(e.scheduleList[s],"userPoints",t)},expression:"scheduleList[index].userPoints"}})],1)}),e._v(" "),a("div",{staticClass:"col-md-12 search-field yi_center"},[a("el-button",{staticClass:"col-md-2",attrs:{type:"primary"},on:{click:e.confirmCreate}},[e._v("确认")])],1)],2):e._e()])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("工作安排")])])}]}},680:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-3 col-ms-4 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("开始日期：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.startTime,callback:function(t){e.startTime=t},expression:"startTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 col-ms-4 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("结束日期：")]),e._v(" "),a("el-date-picker",{attrs:{size:"small",type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd"},model:{value:e.endTime,callback:function(t){e.endTime=t},expression:"endTime"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"0px"}},[e._v("调度员: ")]),e._v(" "),a("el-input",{attrs:{type:"text",placeholder:"请输入订单编号或ID",size:"small"},model:{value:e.username,callback:function(t){e.username="string"==typeof t?t.trim():t},expression:"username"}})],1),e._v(" "),a("div",{staticClass:"col-md-3 search-field search-field_controls"},[a("button",{staticClass:"btn btn-primary search-btn",on:{click:function(t){t.stopPropagation(),e.searchList(1)}}},[e._v("搜索")]),e._v(" "),a("button",{staticClass:"btn btn-info search-btn",on:{click:function(t){return t.stopPropagation(),e.exportCallExcel(t)}}},[e._v("导出")])]),e._v(" "),a("div",{staticClass:"col-md-12 search-field yi_table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderList,border:""}},[a("el-table-column",{attrs:{fixed:"",prop:"orderId",label:"订单编号",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"planName",label:"套餐名称",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"orderPhone",label:"订购号码",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"",prop:"orderTime",label:"下单时间",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"user",label:"派送员",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.userId?a("span",[e._v(e._s(e.matchDelivery(t.row.userId)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderType",label:"订单类型",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"state",label:"订单状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallState",label:"通话状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"notConnectCount",label:"外呼次数",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{prop:"consignee",label:"收件人",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"号码",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"收货地址",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{prop:"point",label:"站点",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.pointId?a("span",[e._v(e._s(e.matchPoint(t.row.pointId)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"lastCallTime",label:"最新呼叫时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"nextCallTime",label:"繁忙另约时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"visitTime",label:"派送时间",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"importer",label:"导入者",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.importSequence?a("span",[e._v(e._s(t.row.importSequence.name))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"importTime",label:"订单导入时间",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.importSequence?a("span",[e._v(e._s(t.row.importSequence.importTime))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"scheduleRemark",label:"备注",width:"120"}})],1)],1),e._v(" "),a("div",{staticClass:"page yi_page"},[a("el-pagination",{attrs:{background:"","current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.totalOrders},on:{"current-change":e.searchList,"update:currentPage":function(t){e.pageIndex=t}}})],1)])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("外呼统计")])])}]}},681:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content_page animated fadeIn"},[a("div",{key:"0",staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("派送员审核")])]),e._v(" "),a("div",{key:"1",staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-3 search-field"},[a("div",{staticClass:"label"},[e._v("姓名：")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control input-field",attrs:{type:"text",placeholder:"请输入姓名"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-2 search-field"},[a("button",{staticClass:"btn btn-success search-btn",on:{click:function(t){return t.stopPropagation(),e.searchDelivery(t)}}},[e._v("搜索")])])]),e._v(" "),a("div",{staticClass:"row "},[a("div",{staticClass:"col-lg-12"},[e.deliveryList&&e.deliveryList.length>0?a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(0),e._v(" "),e._l(e.deliveryList,function(t,s){return a("tbody",{key:s},[a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.userName))]),e._v(" "),a("td",[e._v(e._s(t.phone))]),e._v(" "),a("td",[e._v(e._s(t.password))]),e._v(" "),a("td",[a("a",{on:{click:function(a){e.passed(t.id)}}},[e._v("通过")]),e._v(" "),a("a",{on:{click:function(a){e.deleteDelivery(t.id)}}},[e._v("删除")])])])])})],2):a("div",{staticClass:"notlist-info"},[e._v("暂时没有待审核的派送员啦...")])])])]),e._v(" "),a("el-dialog",{attrs:{title:"删除","modal-append-to-body":!1,visible:e.deleteDialog,width:"30%",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("删除后无法找回，确定要删除此用户吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmDeleteUser}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"通过","modal-append-to-body":!1,visible:e.passDialog,width:"30%",center:""},on:{"update:visible":function(t){e.passDialog=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("通过后，该员工将正式成为公司的派送员")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmPassed}},[e._v("确 定")])],1)])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("姓名")]),e._v(" "),a("th",[e._v("登录名")]),e._v(" "),a("th",[e._v("电话号码")]),e._v(" "),a("th",[e._v("密码")]),e._v(" "),a("th",[e._v("操作")])])])}]}},682:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",{staticClass:"breadcrumb"},e._l(e.list,function(t,s){return a("li",{key:t.index,staticClass:"breadcrumb-item"},[e.isLast(s)?a("span",{staticClass:"active"},[e._v(e._s(e.showName(t)))]):a("router-link",{attrs:{to:t.path}},[e._v(e._s(e.showName(t)))])],1)}))},staticRenderFns:[]}},683:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delivery-page animated fadeIn content_page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-12 search-field"},[a("div",{staticClass:"label",staticStyle:{left:"15px"}},[e._v("调度员：")]),e._v(" "),a("el-input",{staticStyle:{width:"240px","margin-left":"15px"},attrs:{size:"small",type:"text",placeholder:"请输入调度员姓名或者电话号码"},model:{value:e.namePhone,callback:function(t){e.namePhone="string"==typeof t?t.trim():t},expression:"namePhone"}}),e._v(" "),a("button",{staticClass:"btn btn-success search-btn",on:{click:function(t){return t.stopPropagation(),e.handleSearch(t)}}},[e._v("搜索")]),e._v(" "),a("button",{staticClass:"btn search-btn btn-info",on:{click:e.addScheduler}},[e._v("新增调度员")]),e._v(" "),a("span",{staticClass:"set-info"},[e._v("（提示：新增调度员需要联系外呼程序管理员配置线路）")])],1),e._v(" "),a("div",{staticClass:"col-lg-12"},[a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(1),e._v(" "),e._l(e.schedulerList,function(t,s){return a("tbody",{key:s},[a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.phone))]),e._v(" "),a("td",[e._v(e._s(t.userName))]),e._v(" "),a("td",[e._v(e._s(t.password))]),e._v(" "),a("td",e._l(t.userRoles,function(t){return a("span",{key:t.id},[e._v("\n                                    "+e._s(e.formartRole(t.roleId))+",\n                                ")])})),e._v(" "),a("td",[a("a",{on:{click:function(a){e.updateScheduler(t.id)}}},[e._v("修改")]),e._v(" "),a("a",{on:{click:function(a){e.deleteScheduler(t.id)}}},[e._v("删除")])])])])})],2),e._v(" "),e.schedulerList&&e.schedulerList.length>0&&e.total>3?a("div",{staticClass:"page"},[a("el-pagination",{attrs:{background:"","current-page":e.pageIndex,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total},on:{"current-change":e.searchList,"update:currentPage":function(t){e.pageIndex=t}}})],1):e._e()])])]),e._v(" "),a("el-dialog",{attrs:{title:"删除","modal-append-to-body":!1,visible:e.deleteDialog,width:"30%",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("删除后无法找回，确定要删除此用户吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmDeleteDelivery}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.statusMap[e.status],visible:e.schedulerDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.schedulerDialog=t}}},[a("el-form",{ref:"addForm",staticClass:"col-md-11",attrs:{model:e.addForm,"label-width":"80px",rules:e.ruleForm}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.addForm.userName,callback:function(t){e.$set(e.addForm,"userName",t)},expression:"addForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入密码"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"userRoles"}},[a("el-select",{staticClass:"yi_input",attrs:{placeholder:"请分配角色",multiple:""},model:{value:e.userRoles,callback:function(t){e.userRoles=t},expression:"userRoles"}},e._l(e.roleList,function(e){return a("el-option",{key:e.id,attrs:{value:e.id,label:e.roleName}})}))],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["create"==e.status?a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirmAddScheduler()}}},[e._v("确 定")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirmUpdateScheduler()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("调度员列表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("姓名")]),e._v(" "),a("th",[e._v("电话号码")]),e._v(" "),a("th",[e._v("用户名")]),e._v(" "),a("th",[e._v("密码")]),e._v(" "),a("th",[e._v("角色")]),e._v(" "),a("th",[e._v("操作")])])])}]}},684:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"delivery-page animated fadeIn content_page callform -page"},[e._m(0),e._v(" "),a("div",{staticClass:"content-show"},[a("div",{staticClass:"row list-search"},[a("div",{staticClass:"col-md-2 search-field"},[a("div",{staticClass:"label"},[e._v("业务：")]),e._v(" "),a("el-select",{attrs:{clearable:"",placeholder:"请选择业务",size:"small"},model:{value:e.businessId,callback:function(t){e.businessId=t},expression:"businessId"}},e._l(e.businessList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"col-md-2 search-field"},[a("div",{staticClass:"label"},[e._v("日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期"},model:{value:e.selecteDate,callback:function(t){e.selecteDate=t},expression:"selecteDate"}})],1),e._v(" "),a("div",{staticClass:"col-md-1 search-field"},[a("button",{staticClass:"btn search-btn btn-info",attrs:{size:"mini"},on:{click:e.searchForm}},[e._v("搜索")])])]),e._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("table",{staticClass:"table table-bordered table-striped table-sm"},[e._m(1),e._v(" "),e._l(e.deliveryList,function(t,s){return a("tbody",{key:s},[a("tr",[a("td",[e._v(e._s(t.date))]),e._v(" "),a("td",[e._v(e._s(t.jobNumber))]),e._v(" "),a("td",[e._v(e._s(t.name))]),e._v(" "),a("td",[e._v(e._s(t.callAmount))]),e._v(" "),a("td",[e._v(e._s(t.connectAmount))]),e._v(" "),a("td",[e._v(e._s(t.connectRate))]),e._v(" "),a("td",[e._v(e._s(t.jobHours))]),e._v(" "),a("td",[e._v(e._s(t.smallCall))])])])})],2)])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("外呼报表")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",[e._v("日期")]),e._v(" "),a("th",[e._v("工号")]),e._v(" "),a("th",[e._v("姓名")]),e._v(" "),a("th",[e._v("拨打量")]),e._v(" "),a("th",[e._v("接通量")]),e._v(" "),a("th",[e._v("接通率")]),e._v(" "),a("th",[e._v("工时")]),e._v(" "),a("th",[e._v("小拨")])])])}]}},685:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app flex-row align-items-center login-page",attrs:{id:"login-page"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-8"},[a("h1",{staticClass:"title"},[e._v("订单系统")]),e._v(" "),a("div",{staticClass:"card-group mb-0"},[a("form",{staticClass:"card p-4",attrs:{name:"loginForm",novalidate:""}},[a("div",{staticClass:"card-block"},[a("p",{directives:[{name:"show",rawName:"v-show",value:e.login_err,expression:"login_err"}],class:{"login-info-error animated shake":e.login_err}},[e._v("\n                                "+e._s(e.info))]),e._v(" "),a("div",{staticClass:"input-group mb-3"},[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"请输入用户名",autocomplete:"username"},domProps:{value:e.username},on:{focus:function(t){e.login_err=!1},input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"input-group mb-4"},[e._m(1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"请输入密码",autocomplete:"current-password"},domProps:{value:e.password},on:{focus:function(t){e.login_err=!1},keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null},input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"text-center"},[a("button",{staticClass:"btn btn-primary px-4",attrs:{type:"button"},on:{click:e.login}},[e._v("登录")])])])])]),e._v(" "),a("p",{staticClass:"cp"},[e._v("©2018 CengMei 上海澄美信息服务有限公司")])])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon input-group-bg"},[a("i",{staticClass:"icon-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"icon-lock"})])}]}},686:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content_page animated fadeIn"},[a("div",{key:"0",staticClass:"content-title"},[a("div",{staticClass:"title"},[e._v("关联工号")])]),e._v(" "),a("div",{key:"1",staticClass:"content-show"},[a("div",{staticClass:"col-md-5 search-field search-field_controls"},[a("button",{staticClass:"btn search-btn btn-info",on:{click:e.add}},[e._v("创建关联")])]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"派送员",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formataUser(t.row.userId)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"delivery",label:"关联2.0系统工号",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.editContrast(t.row.id)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteContrast(t.row.id)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除","modal-append-to-body":!1,visible:e.deleteDialog,width:"20%",center:""},on:{"update:visible":function(t){e.deleteDialog=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v("确定要删除该关联吗?")])]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmDeleteConfig}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"新增关联",visible:e.addDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.addDialog=t}}},[a("el-form",{ref:"form",staticClass:"col-md-10",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"派送员"}},[a("el-select",{attrs:{placeholder:"选择派送员",clearable:""},model:{value:e.form.userId,callback:function(t){e.$set(e.form,"userId",t)},expression:"form.userId"}},e._l(e.lastDeliveryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:e.disabled}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"工号",prop:"userId"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入2.0系统对应工号",size:"medium"},model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery","string"==typeof t?t.trim():t)},expression:"form.delivery"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addConfig()}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改关联",visible:e.editDialog,"modal-append-to-body":!1,width:"40%",center:""},on:{"update:visible":function(t){e.editDialog=t}}},[a("el-form",{ref:"editform",staticClass:"col-md-10",attrs:{model:e.editform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"派送员"}},[a("el-select",{attrs:{placeholder:"选择派送员",clearable:""},model:{value:e.editform.userId,callback:function(t){e.$set(e.editform,"userId",t)},expression:"editform.userId"}},e._l(e.lastDeliveryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:e.disabled}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"工号"}},[a("el-input",{attrs:{type:"text",placeholder:"请输入2.0系统对应工号",size:"medium"},model:{value:e.editform.delivery,callback:function(t){e.$set(e.editform,"delivery","string"==typeof t?t.trim():t)},expression:"editform.delivery"}})],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.confirmEdit()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},691:function(e,t,a){a(162),e.exports=a(243)}},[691]);